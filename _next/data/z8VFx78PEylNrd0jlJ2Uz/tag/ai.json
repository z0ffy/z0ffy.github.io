{"pageProps":{"posts":[{"id":38,"title":"【AI】提示词","created_at":"2026-01-15T14:00:39Z","updated_at":"2026-01-15T14:00:44Z","content":"# Sora2 漫剧分镜\n\n```text\n你是一位拥有视听语言能力的动画导演兼 AI 视频生成专家。你擅长将简短的主题或故事转化为精确的、可视化的动画分镜头脚本。你深知 Sora 2 模型对物理规律、光影细节、镜头运动及时间控制的高要求。请通读全文，请拆分第一集，第一集的时长应该在4分钟以上，所以最少18组镜头，要求如下：\n1.日漫风格，2D\n2.按15s一组的方式进行划分，每组不少于4-6个镜头，如果对话太长，也要用多个镜头来表达，避免画面单一。\n3.单个镜头（Shot）的时长需精确到小数点后一位（如 1.3s, 2.5s），当一个镜头≥4s时，提示词上要写用多角度多镜头来表达。\n##注意事项：\n1.不要漏掉或改变原文的任何情节和对话 ，对话要写全，不要用省略号代替，同时要注意，如果有对话，要预估对话的时长，避免镜头结束了，话还没讲完，或者把对话分到两到三个镜头里，要中文提示词。\n2.要注意镜头与镜头之间的过渡，如果这组镜头和前后组都有密切关联，可以在第一个镜头连带上上一组的最后一个镜头。\n3.高光时刻的描绘，激烈场景的着重刻画，如果某个镜头是重点，可以只将这个镜头用15s来着重表达，但要注重镜头的丰富性，做到连贯，丰富，用多镜头多视角多表达，这样的词来刻画，不要一个画面太长。\n4.在表达多人物时由于太多人会崩，尽量将多人物只放在一个镜头，其他的一组镜头只表达最多两个人，如果要表达的人大于两个人，多的人物可以放在下一组镜头来表达，如果三个人，可以两个人在第一组，两个人在第二组，以此来保障视频生成的质量和容易度，流畅度。\n##每个镜头的格式为：- Duration: [X.X] sec\n\nScene (简述): [用户视角的简单描述]\nSora Prompt (详细): [用于生成的中文详细提示词，包含主体+环境+动作+运镜+光影+画质词]\nDialogue（详细讲话）:[用于配音，保留全部对话，不做任何修改]\nCamera: [例如：Close-up, Dolly Zoom, Low angle]。\n由于sora成视频的逻辑是每组镜头都是由一个关键帧生成的，所以要给出每组镜头这个关键帧图片的具体的描述词：\n(Keyframe Prompt)：\n[视觉锚点组：资产参考 + 布局指令 + 风格指引]\n人物资产描述（Character Assets）：明确当前组内角色的具体视觉特征。需包含：[角色名] + [当前情绪表情] + [特有服饰/道具细节]。（注：方便生图师制作多视图 Character Sheet）\n场景资产描述（Environment Assets）：描述环境空间。包含：[核心地标] + [深度空间感（如：远景建筑、近景遮挡物）] + [天气/材质细节]。\n光影风格锚点（Visual Style）：[主光源方向与颜色] + [胶片质感/画风描述] + [核心色调]。\n拼贴布局要求（Layout Note）：（生图师专用） 建议采用“左侧人物细节/表情+右侧场景氛围”的二分构图，或“中心角色+四周特写”的拼贴布局，作为 Sora 生成的视觉强引导。\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]},{"id":37,"title":"【ACP】WebStorm + Claude Code","created_at":"2025-12-17T09:28:39Z","updated_at":"2025-12-17T09:28:48Z","content":"## 前言\n\n随着 JetBrains 在 2025.3 版本中正式引入 **Agent Client Protocol (ACP)** 的 Beta 支持，我们终于可以在 IDE 的原生 AI Chat 窗口中直接运行各种外部 AI Agent 了。\n\nAnthropic 推出的 **Claude Code** 是一款强大的终端编码助手，结合 ACP 协议，它能与 WebStorm 实现无缝集成：**直接在 IDE 内进行多文件编辑、原生 Diff 预览以及代码重构。**\n\n但在实际配置过程中，很多开发者会遇到两个棘手问题：\n1.  使用 `fnm` (Fast Node Manager) 管理 Node 版本时，IDE 无法找到正确的 `npx` 路径。\n2.  需要连接自定义的 API 地址（如 LiteLLM、Bedrock 或其它中转服务），而不是官方默认端点。\n\n本文将提供一份经过实测的完整配置方案，帮你完美避坑。\n\n---\n\n## 🛠 前提条件\n\n在开始之前，请确保你的开发环境满足以下要求：\n\n*   **IDE 版本**：WebStorm 2025.3 或更高版本。\n*   **插件要求**：已启用官方 **AI Assistant** 插件。\n*   **基础工具**：\n    *   已安装 Claude Code CLI（建议：`npm install -g @anthropic-ai/claude-code`）。\n    *   使用 `fnm` 管理 Node.js 环境。\n    *   终端运行 `npx --version` 能正常输出。\n\n---\n\n## 🚀 配置步骤\n\n### 第一步：安装 ACP 适配器\n\n我们需要一个“桥梁”将 Claude Code 转换为 IDE 能听懂的 ACP 协议。推荐使用 Zed 官方维护的适配器：\n\n```bash\nnpm install -g @zed-industries/claude-code-acp\n```\n\n### 第二步：配置 WebStorm ACP\n\n这是最关键的一步。我们需要通过修改配置文件来告诉 IDE 如何启动 Claude Code，并注入必要的环境变量。\n\n1.  打开 WebStorm，进入 **AI Chat** 工具窗口（`View` → `Tool Windows` → `AI Chat`）。\n2.  点击窗口右上角的 **齿轮图标 ⚙️**，选择 **Configure ACP Agents**。\n3.  系统会自动打开 `acp.json` 配置文件：\n    *   **macOS / Linux**: `~/.jetbrains/acp.json`\n    *   **Windows**: `%USERPROFILE%\\.jetbrains\\acp.json`\n\n请将文件内容替换为以下配置（请根据实际情况修改 API Key 和 URL）：\n\n```json\n{\n  \"agent_servers\": {\n    \"Claude Code (Custom)\": {\n      \"command\": \"/bin/zsh\",\n      \"args\": [\n        \"-c\",\n        \"pkill -f 'npx.*@zed-industries/claude-code-acp' || true; fnm exec -- npx @zed-industries/claude-code-acp\"\n      ],\n      \"env\": {\n        \"ANTHROPIC_API_KEY\": \"your-custom-api-key-here\",\n        \"ANTHROPIC_BASE_URL\": \"https://your-custom-api-url.com/v1\"\n      }\n    }\n  }\n}\n```\n\n### 💡 配置原理解析（为什么这么写？）\n\n这段配置看似复杂，实则解决两个核心痛点：\n\n1.  **自动清理僵尸进程 (`pkill ... || true`)**：\n    每次重启 IDE 或 Agent 时，旧的进程可能依然驻留。这行命令会在启动新服务前强制清理旧的 adapter 进程，防止端口占用或内存泄漏。`|| true` 保证了即使没有旧进程，命令也不会报错退出。\n\n2.  **解决 fnm 路径问题 (`fnm exec --`)**：\n    WebStorm 启动子进程时，默认的 `$PATH` 可能不包含 `fnm` 动态注入的 Node 路径。直接写 `npx` 往往会报错。\n    使用 `fnm exec --` 可以强制在当前 shell 上下文中动态加载正确的 Node 环境，彻底解决“找不到命令”的问题。\n\n3.  **自定义 API 支持 (`env` 字段)**：\n    通过显式注入 `ANTHROPIC_BASE_URL`，你可以轻松切换到任何兼容 OpenAI/Anthropic 格式的接口（务必确保 URL 以 `/v1` 结尾）。\n\n---\n\n## 💻 使用方法\n\n1.  保存 `acp.json` 文件。\n2.  **完全重启 WebStorm**（确保配置重载）。\n3.  打开 **AI Chat** 窗口。\n4.  点击输入框上方的 Agent 选择下拉菜单，你应该能看到 **\"Claude Code (Custom)\"**。\n5.  选中它，开始对话！尝试让它“重构当前文件”或“修复这个 Bug”，你会发现更改会直接显示在 IDE 的 Diff 视图中，体验极佳。\n\n---\n\n## ❓ 常见问题排查 (FAQ)\n\n**Q1: Agent 选项没有出现，或者启动报错怎么办？**\n*   **查看日志**：点击 AI Chat 窗口右上角齿轮 → **Get ACP Logs**。\n*   **检查 JSON**：确保 JSON 格式合法（尤其是逗号和引号）。\n*   **全局安装**：确认适配器已安装：`npm ls -g @zed-industries/claude-code-acp`。\n\n**Q2: 自定义 API 似乎没有生效？**\n*   检查 `ANTHROPIC_BASE_URL` 是否包含协议头（`https://`）和版本后缀（`/v1`）。\n*   建议先在终端手动测试连接：\n    ```bash\n    ANTHROPIC_API_KEY=xxx ANTHROPIC_BASE_URL=yyy npx @zed-industries/claude-code-acp\n    ```\n\n**Q3: 为什么不直接使用 `/bin/bash`？**\n*   如果你是 macOS 用户，默认 Shell 通常是 `zsh`，且 `fnm` 配置通常在 `~/.zshrc` 中。如果你使用 bash，请将配置中的 `/bin/zsh` 改为 `/bin/bash`。\n\n---\n\n## 🔗 参考资料\n\n*   [JetBrains ACP 官方文档](https://www.jetbrains.com/help/ai-assistant/acp.html)\n*   [Zed Claude Code ACP Adapter (GitHub)](https://github.com/zed-industries/claude-code-acp)\n*   [Claude Code 官方文档](https://code.claude.com/docs)\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]},{"id":30,"title":"【AI】Vibe Coding 开发资源","created_at":"2025-10-28T03:04:08Z","updated_at":"2025-10-28T03:04:08Z","content":"### 编程指南\n\n- [AI协同编程指南](https://vibercoding.zxiaoruan.cn/vibe-coding/欢迎.html)\n\n### 编程工具\n\n- [AI编程工具汇总对比](https://rysonai.com)","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/30/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]}],"tag":"ai"},"__N_SSG":true}