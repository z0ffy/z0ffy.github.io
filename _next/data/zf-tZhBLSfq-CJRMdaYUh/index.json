{"pageProps":{"user":{"login":"z0ffy","nick_name":"zoffy","avatar_url":"https://avatars.githubusercontent.com/u/30621502?v=4","bio":"No fear of words, no fear of years."},"posts":[{"id":14,"title":"è·å–è§†é¢‘æ—¶åˆ»å›¾","created_at":"2024-10-28T08:58:43Z","updated_at":"2024-10-28T08:58:48Z","content":"> åœ¨è·å–è§†é¢‘ä»»æ„æ—¶åˆ»çš„æˆªå›¾æ—¶ï¼Œé€šå¸¸å¤§å¤šæ•°çš„åšæ³•éƒ½æ˜¯\r\n> - é€šè¿‡è§†é¢‘æ’­æ”¾ï¼Œcanvasç»˜åˆ¶\r\n> - å€ŸåŠ©ffmpeg\r\n> \r\n> é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼šURI Queries\r\n\r\n### ä½¿ç”¨æ–¹å¼\r\n\r\nåªéœ€è¦åœ¨urlåé¢å¸¦ä¸Š#t=xxï¼ˆç§’ï¼‰å³å¯ï¼Œå¦‚æœæ˜¯æœ¬åœ°æ–‡ä»¶çš„è¯ï¼Œä¸Šä¼ ä¹‹åéœ€è¦æ‹¿åˆ°blobUrl\r\n\r\n```html\r\n<!-- ç½‘ç»œåœ°å€ -->\r\n<div>\r\n  <video src=\"https://www.w3school.com.cn/i/video/shanghai.mp4#t=1.2\"></video>\r\n  <video src=\"https://www.w3school.com.cn/i/video/shanghai.mp4#t=2.2\"></video>\r\n  <video src=\"https://www.w3school.com.cn/i/video/shanghai.mp4#t=3.5\"></video>\r\n</div>\r\n\r\n<!-- æœ¬åœ°åœ°å€ -->\r\n<div>\r\n  <video src=\"blob:file:///123a3041-4ab9-4db8-adb7-56c46f3b156e#t=1.2\"></video>\r\n  <video src=\"blob:file:///123a3041-4ab9-4db8-adb7-56c46f3b156e#t=2.2\"></video>\r\n  <video src=\"blob:file:///123a3041-4ab9-4db8-adb7-56c46f3b156e#t=3.5\"></video>\r\n</div>\r\n\r\n<!-- è·å–blob url -->\r\n<script>\r\n  fetch('https://www.w3school.com.cn/i/video/shanghai.mp4').then(res => res.blob()).then(blob => {\r\n    const blobUrl = URL.createObjectURL(blob);\r\n    console.log(blobUrl);\r\n  })\r\n</script>\r\n```\r\n\r\nåˆ°æ­¤å°±å¯ä»¥æ¸²æŸ“å‡ºæŒ‡å®šæ—¶åˆ»çš„å›¾ç‰‡ã€‚å°±è¿™ï¼Ÿæ˜¯çš„ï¼Œæ²¡é”™ï¼Œå°±è¿™ã€‚\r\n\r\n### ä¼˜ç‚¹\r\n\r\n- å¿«\r\n- ç®€å•\r\n\r\n### ç¼ºç‚¹\r\n\r\n- æ¯ä¸€å¼ å›¾å®é™…æ˜¯ä¸€ä¸ªvideoï¼Œä¼šå¯¼è‡´èµ„æºé‡å¤è¯·æ±‚ï¼Œè§†é¢‘æ–‡ä»¶è¿‡å¤§ï¼Œå›¾ç‰‡è¿‡å¤šï¼Œç½‘ç»œå‹åŠ›è¾ƒå¤§ã€‚\r\n- è¯·æ±‚ç½‘ç»œåœ°å€è¿›è€Œè½¬æ¢æˆæœ¬åœ°åœ°å€ï¼Œè™½ç„¶å¯ä»¥è§£å†³å¹¶å‘å¯¼è‡´çš„ç½‘ç»œå‹åŠ›ï¼Œä½†æ˜¯å¦‚æœæ–‡ä»¶è¿‡å¤§ï¼Œé¦–æ¬¡åŠ è½½ä¾æ—§éœ€è¦æ¶ˆè€—æ¯”è¾ƒé•¿çš„æ—¶é—´ã€‚\r\n\r\n### æ€»ç»“\r\n\r\nå…·ä½“ä½¿ç”¨ä»€ä¹ˆæ–¹å¼ï¼Œè¿˜éœ€æ ¹æ®ä¸šåŠ¡éœ€æ±‚å†³å®šã€‚\r\n\r\n> å‚è€ƒæ–‡æ¡£ï¼šhttps://www.w3.org/TR/media-frags/#media-fragment-syntax\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":11,"title":"vite plugin javascript obfuscator","created_at":"2024-10-25T03:29:18Z","updated_at":"2024-10-28T07:06:49Z","content":"# é€‚ç”¨äºViteç¯å¢ƒçš„JavaScriptæ··æ·†æ’ä»¶\r\n\r\n>ä»“åº“åœ°å€ï¼š[vite-plugin-bundle-obfuscator](https://github.com/z0ffy/vite-plugin-bundle-obfuscator)\r\n\r\n## â­ï¸ ç‰¹æ€§\r\n\r\n- âš¡  æ”¯æŒViteé¡¹ç›®ä¸­çš„JavaScriptæ··æ·†ã€‚\r\n- âš™ï¸ å¯å®šåˆ¶çš„æ··æ·†å™¨é€‰é¡¹ï¼Œä»¥æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚\r\n- ğŸ›¡ï¸ è‡ªåŠ¨æ’é™¤node_modulesã€‚\r\n- ğŸš€ å¤šçº¿ç¨‹æ”¯æŒï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼ˆå¼ºçƒˆå»ºè®®å¼€å¯ï¼‰ã€‚\r\n\r\n## âš ï¸ æ³¨æ„\r\n\r\n- å¦‚æœæ··æ·†é€‰é¡¹stringArrayä¸ºtrueã€‚\r\n    - æ‚¨çš„ç»“æœå¯èƒ½ä¼šä¸¢å¤±ä¸€äº›æ†ç»‘åŒ…ï¼ˆåœ¨__vite__mapDepsæ•°ç»„ä¸­ï¼‰ã€‚\r\n    - æˆ‘æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå‡†ç¡®çš„æ¡ˆä¾‹ã€‚\r\n- å¦‚æœæ‰“åŒ…è¿‡ç¨‹ä¸­å‡ºç°å†…å­˜æº¢å‡ºã€‚ä¿®æ”¹æ‰“åŒ…å‘½ä»¤ä¸ºï¼šcross-env NODE_OPTIONS=--max-old-space-size=8192 VITE_CJS_IGNORE_WARNING=true vite buildï¼Œå…¶ä¸­ max-old-space-size æ ¹æ®æœºå™¨é…ç½®è‡ªè¡Œè®¾ç½®ã€‚\r\n\r\n## ğŸ“¦ å®‰è£…\r\n\r\n```bash\r\n# ä½¿ç”¨npm\r\nnpm install vite-plugin-bundle-obfuscator -D\r\n\r\n# ä½¿ç”¨pnpm\r\npnpm add vite-plugin-bundle-obfuscator -D\r\n\r\n# ä½¿ç”¨yarn\r\nyarn add vite-plugin-bundle-obfuscator -D\r\n```\r\n\r\n## ğŸ‘¨â€ğŸ’» ä½¿ç”¨\r\n\r\n1. ä½¿ç”¨æ‚¨é¦–é€‰çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å®‰è£…æ’ä»¶ã€‚\r\n2. åœ¨vite.config.jsä¸­æ³¨å†Œæ’ä»¶ã€‚\r\n3. è‡ªå®šä¹‰æ··æ·†å™¨é…ç½®æˆ–ä½¿ç”¨é»˜è®¤é€‰é¡¹ã€‚\r\n\r\nç¤ºä¾‹:\r\n\r\n```javascript\r\nimport vitePluginBundleObfuscator from 'vite-plugin-bundle-obfuscator';\r\n\r\nconst defaultObfuscatorConfig = {\r\n  excludes: [],\r\n  enable: true,\r\n  log: true,\r\n  autoExcludeNodeModules: false,\r\n  threadPool: false,\r\n  options: {\r\n    compact: true,\r\n    controlFlowFlattening: true,\r\n    controlFlowFlatteningThreshold: 1,\r\n    deadCodeInjection: false,\r\n    debugProtection: false,\r\n    debugProtectionInterval: 0,\r\n    disableConsoleOutput: false,\r\n    identifierNamesGenerator: 'hexadecimal',\r\n    log: false,\r\n    numbersToExpressions: false,\r\n    renameGlobals: false,\r\n    selfDefending: true,\r\n    simplify: true,\r\n    splitStrings: false,\r\n    stringArray: false,\r\n    stringArrayCallsTransform: false,\r\n    stringArrayCallsTransformThreshold: 0.5,\r\n    stringArrayEncoding: [],\r\n    stringArrayIndexShift: true,\r\n    stringArrayRotate: true,\r\n    stringArrayShuffle: true,\r\n    stringArrayWrappersCount: 1,\r\n    stringArrayWrappersChainedCalls: true,\r\n    stringArrayWrappersParametersMaxCount: 2,\r\n    stringArrayWrappersType: 'variable',\r\n    stringArrayThreshold: 0.75,\r\n    unicodeEscapeSequence: false,\r\n  }\r\n};\r\n\r\nexport default {\r\n  plugins: [\r\n    // vitePluginBundleObfuscator()\r\n    vitePluginBundleObfuscator(defaultObfuscatorConfig)\r\n  ]\r\n};\r\n```\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]}]},"__N_SSG":true}