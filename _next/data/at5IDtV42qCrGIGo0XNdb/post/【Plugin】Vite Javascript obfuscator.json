{"pageProps":{"post":{"id":11,"title":"ã€Pluginã€‘Vite Javascript obfuscator","created_at":"2024-10-25T03:29:18Z","updated_at":"2025-04-16T17:19:46Z","content":"# é€‚ç”¨äºViteç¯å¢ƒçš„JavaScriptæ··æ·†æ’ä»¶\n\n>ä»“åº“åœ°å€ï¼š[vite-plugin-bundle-obfuscator](https://github.com/z0ffy/vite-plugin-bundle-obfuscator)\n\n## â­ï¸ ç‰¹æ€§\n\n- [x] âš¡ æ”¯æŒ Vite é¡¹ç›®ä¸­çš„ JavaScript æ··æ·†ã€‚\n- [x] ğŸš€ å¤šçº¿ç¨‹æ”¯æŒï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚\n- [x] âš™ï¸ å¯å®šåˆ¶çš„æ··æ·†å™¨é€‰é¡¹ï¼Œä»¥æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚\n- [x] ğŸ›¡ï¸ è‡ªåŠ¨æ’é™¤ node_modulesã€‚\n- [x] ğŸ“¦ æ”¯æŒ node_modules æ‹†åˆ†å—ã€‚\n\n## âš ï¸ æ³¨æ„\n\n- å¦‚æœæ‰“åŒ…è¿‡ç¨‹ä¸­å‡ºç°å†…å­˜æº¢å‡ºã€‚ä¿®æ”¹æ‰“åŒ…å‘½ä»¤ä¸ºï¼šcross-env NODE_OPTIONS=--max-old-space-size=8192 VITE_CJS_IGNORE_WARNING=true vite buildï¼Œå…¶ä¸­ max-old-space-size æ ¹æ®æœºå™¨é…ç½®è‡ªè¡Œè®¾ç½®ã€‚\n- åœ¨è®¾ç½® node_modules åˆ†åŒ…æ—¶ï¼Œè¯·æŠŠå‡†ç¡®çš„åŒ…åå‰ç½®ã€‚ä¾‹å¦‚ï¼š[\"vue-router\", \"vue\"]ï¼Œ\"vue\"å¯ä»¥åŒæ—¶åŒ¹é…åˆ° vue ä»¥åŠ vue-routerã€‚\n\n## ğŸŒ åœ¨çº¿ç¤ºä¾‹\n\nâœ¦ [Vite - Vanilla](https://stackblitz.com/edit/vitejs-vite-zsytij?file=vite.config.js)\nâœ¦ [Vite - Vue](https://stackblitz.com/edit/vitejs-vite-ywho91?file=vite.config.js)\nâœ¦ [Vite - React](https://stackblitz.com/edit/vitejs-vite-wyeur4?file=vite.config.js)\nâœ¦ [Vite - PReact](https://stackblitz.com/edit/vitejs-vite-oujmks?file=vite.config.js)\nâœ¦ [Vite - lit](https://stackblitz.com/edit/vitejs-vite-ru4gws?file=vite.config.js)\nâœ¦ [Vite - Svelte](https://stackblitz.com/edit/vitejs-vite-fthdtu?file=vite.config.js)\nâœ¦ [Vite - Solid](https://stackblitz.com/edit/vitejs-vite-dcx3eh?file=vite.config.js)\nâœ¦ [Vite - Qwik](https://stackblitz.com/edit/vitejs-vite-i2bjvq?file=vite.config.js)\nâœ¦ ...\n\n\n## ğŸ“¦ å®‰è£…\n\n```bash\n# ä½¿ç”¨npm\nnpm install vite-plugin-bundle-obfuscator -D\n\n# ä½¿ç”¨pnpm\npnpm add vite-plugin-bundle-obfuscator -D\n\n# ä½¿ç”¨yarn\nyarn add vite-plugin-bundle-obfuscator -D\n```\n\n## ğŸ‘¨â€ğŸ’» ä½¿ç”¨\n\n1. ä½¿ç”¨æ‚¨é¦–é€‰çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å®‰è£…æ’ä»¶ã€‚\n2. åœ¨vite.config.jsä¸­æ³¨å†Œæ’ä»¶ã€‚\n3. è‡ªå®šä¹‰æ··æ·†å™¨é…ç½®æˆ–ä½¿ç”¨é»˜è®¤é€‰é¡¹ã€‚\n\nç¤ºä¾‹:\n\n```javascript\nimport vitePluginBundleObfuscator from 'vite-plugin-bundle-obfuscator';\n\nconst defaultObfuscatorConfig = {\n  excludes: [],\n  enable: true,\n  log: true,\n  autoExcludeNodeModules: false,\n  threadPool: false,\n  options: {\n    compact: true,\n    controlFlowFlattening: true,\n    controlFlowFlatteningThreshold: 1,\n    deadCodeInjection: false,\n    debugProtection: false,\n    debugProtectionInterval: 0,\n    disableConsoleOutput: false,\n    identifierNamesGenerator: 'hexadecimal',\n    log: false,\n    numbersToExpressions: false,\n    renameGlobals: false,\n    selfDefending: true,\n    simplify: true,\n    splitStrings: false,\n    stringArray: false,\n    stringArrayCallsTransform: false,\n    stringArrayCallsTransformThreshold: 0.5,\n    stringArrayEncoding: [],\n    stringArrayIndexShift: true,\n    stringArrayRotate: true,\n    stringArrayShuffle: true,\n    stringArrayWrappersCount: 1,\n    stringArrayWrappersChainedCalls: true,\n    stringArrayWrappersParametersMaxCount: 2,\n    stringArrayWrappersType: 'variable',\n    stringArrayThreshold: 0.75,\n    unicodeEscapeSequence: false,\n  }\n};\n\nexport default {\n  plugins: [\n    // vitePluginBundleObfuscator()\n    vitePluginBundleObfuscator(defaultObfuscatorConfig)\n  ]\n};\n```\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]}},"__N_SSG":true}