{"pageProps":{"posts":[{"id":11,"title":"vite-plugin-javascript-obfuscator","created_at":"2024-10-25T03:29:18Z","updated_at":"2024-10-25T05:38:47Z","content":"# é€‚ç”¨äºViteç¯å¢ƒçš„JavaScriptæ··æ·†æ’ä»¶\r\n\r\n>ä»“åº“åœ°å€ï¼š[vite-plugin-bundle-obfuscator](https://github.com/z0ffy/vite-plugin-bundle-obfuscator)\r\n\r\n## â­ï¸ ç‰¹æ€§\r\n\r\n- âš¡  æ”¯æŒViteé¡¹ç›®ä¸­çš„JavaScriptæ··æ·†ã€‚\r\n- âš™ï¸ å¯å®šåˆ¶çš„æ··æ·†å™¨é€‰é¡¹ï¼Œä»¥æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚\r\n- ğŸ›¡ï¸ è‡ªåŠ¨æ’é™¤node_modulesã€‚\r\n- ğŸš€ å¤šçº¿ç¨‹æ”¯æŒï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼ˆå¼ºçƒˆå»ºè®®å¼€å¯ï¼‰ã€‚\r\n\r\n## âš ï¸ æ³¨æ„\r\n\r\n- å¦‚æœæ··æ·†é€‰é¡¹stringArrayä¸ºtrueã€‚\r\n    - æ‚¨çš„ç»“æœå¯èƒ½ä¼šä¸¢å¤±ä¸€äº›æ†ç»‘åŒ…ï¼ˆåœ¨__vite__mapDepsæ•°ç»„ä¸­ï¼‰ã€‚\r\n    - æˆ‘æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå‡†ç¡®çš„æ¡ˆä¾‹ã€‚\r\n- å¦‚æœæ‰“åŒ…è¿‡ç¨‹ä¸­å‡ºç°å†…å­˜æº¢å‡ºã€‚ä¿®æ”¹æ‰“åŒ…å‘½ä»¤ä¸ºï¼šcross-env NODE_OPTIONS=--max-old-space-size=8192 VITE_CJS_IGNORE_WARNING=true vite buildï¼Œå…¶ä¸­ max-old-space-size æ ¹æ®æœºå™¨é…ç½®è‡ªè¡Œè®¾ç½®ã€‚\r\n\r\n## ğŸ“¦ å®‰è£…\r\n\r\n```bash\r\n# ä½¿ç”¨npm\r\nnpm install vite-plugin-bundle-obfuscator -D\r\n\r\n# ä½¿ç”¨pnpm\r\npnpm add vite-plugin-bundle-obfuscator -D\r\n\r\n# ä½¿ç”¨yarn\r\nyarn add vite-plugin-bundle-obfuscator -D\r\n```\r\n\r\n## ğŸ‘¨â€ğŸ’» ä½¿ç”¨\r\n\r\n1. ä½¿ç”¨æ‚¨é¦–é€‰çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å®‰è£…æ’ä»¶ã€‚\r\n2. åœ¨vite.config.jsä¸­æ³¨å†Œæ’ä»¶ã€‚\r\n3. è‡ªå®šä¹‰æ··æ·†å™¨é…ç½®æˆ–ä½¿ç”¨é»˜è®¤é€‰é¡¹ã€‚\r\n\r\nç¤ºä¾‹:\r\n\r\n```javascript\r\nimport vitePluginBundleObfuscator from 'vite-plugin-bundle-obfuscator';\r\n\r\nconst defaultObfuscatorConfig = {\r\n  excludes: [],\r\n  enable: true,\r\n  log: true,\r\n  autoExcludeNodeModules: false,\r\n  threadPool: false,\r\n  options: {\r\n    compact: true,\r\n    controlFlowFlattening: true,\r\n    controlFlowFlatteningThreshold: 1,\r\n    deadCodeInjection: false,\r\n    debugProtection: false,\r\n    debugProtectionInterval: 0,\r\n    disableConsoleOutput: false,\r\n    identifierNamesGenerator: 'hexadecimal',\r\n    log: false,\r\n    numbersToExpressions: false,\r\n    renameGlobals: false,\r\n    selfDefending: true,\r\n    simplify: true,\r\n    splitStrings: false,\r\n    stringArray: false,\r\n    stringArrayCallsTransform: false,\r\n    stringArrayCallsTransformThreshold: 0.5,\r\n    stringArrayEncoding: [],\r\n    stringArrayIndexShift: true,\r\n    stringArrayRotate: true,\r\n    stringArrayShuffle: true,\r\n    stringArrayWrappersCount: 1,\r\n    stringArrayWrappersChainedCalls: true,\r\n    stringArrayWrappersParametersMaxCount: 2,\r\n    stringArrayWrappersType: 'variable',\r\n    stringArrayThreshold: 0.75,\r\n    unicodeEscapeSequence: false,\r\n  }\r\n};\r\n\r\nexport default {\r\n  plugins: [\r\n    // vitePluginBundleObfuscator()\r\n    vitePluginBundleObfuscator(defaultObfuscatorConfig)\r\n  ]\r\n};\r\n```\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]}],"tag":"å‰ç«¯"},"__N_SSG":true}