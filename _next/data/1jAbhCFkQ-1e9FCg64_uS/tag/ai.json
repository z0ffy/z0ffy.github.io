{"pageProps":{"posts":[{"id":37,"title":"ã€ACPã€‘WebStorm + Claude Code","created_at":"2025-12-17T09:28:39Z","updated_at":"2025-12-17T09:28:48Z","content":"## å‰è¨€\n\néšç€ JetBrains åœ¨ 2025.3 ç‰ˆæœ¬ä¸­æ­£å¼å¼•å…¥ **Agent Client Protocol (ACP)** çš„ Beta æ”¯æŒï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥åœ¨ IDE çš„åŸç”Ÿ AI Chat çª—å£ä¸­ç›´æ¥è¿è¡Œå„ç§å¤–éƒ¨ AI Agent äº†ã€‚\n\nAnthropic æ¨å‡ºçš„ **Claude Code** æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç»ˆç«¯ç¼–ç åŠ©æ‰‹ï¼Œç»“åˆ ACP åè®®ï¼Œå®ƒèƒ½ä¸ WebStorm å®ç°æ— ç¼é›†æˆï¼š**ç›´æ¥åœ¨ IDE å†…è¿›è¡Œå¤šæ–‡ä»¶ç¼–è¾‘ã€åŸç”Ÿ Diff é¢„è§ˆä»¥åŠä»£ç é‡æ„ã€‚**\n\nä½†åœ¨å®é™…é…ç½®è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šå¼€å‘è€…ä¼šé‡åˆ°ä¸¤ä¸ªæ£˜æ‰‹é—®é¢˜ï¼š\n1.  ä½¿ç”¨ `fnm` (Fast Node Manager) ç®¡ç† Node ç‰ˆæœ¬æ—¶ï¼ŒIDE æ— æ³•æ‰¾åˆ°æ­£ç¡®çš„ `npx` è·¯å¾„ã€‚\n2.  éœ€è¦è¿æ¥è‡ªå®šä¹‰çš„ API åœ°å€ï¼ˆå¦‚ LiteLLMã€Bedrock æˆ–å…¶å®ƒä¸­è½¬æœåŠ¡ï¼‰ï¼Œè€Œä¸æ˜¯å®˜æ–¹é»˜è®¤ç«¯ç‚¹ã€‚\n\næœ¬æ–‡å°†æä¾›ä¸€ä»½ç»è¿‡å®æµ‹çš„å®Œæ•´é…ç½®æ–¹æ¡ˆï¼Œå¸®ä½ å®Œç¾é¿å‘ã€‚\n\n---\n\n## ğŸ›  å‰ææ¡ä»¶\n\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š\n\n*   **IDE ç‰ˆæœ¬**ï¼šWebStorm 2025.3 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚\n*   **æ’ä»¶è¦æ±‚**ï¼šå·²å¯ç”¨å®˜æ–¹ **AI Assistant** æ’ä»¶ã€‚\n*   **åŸºç¡€å·¥å…·**ï¼š\n    *   å·²å®‰è£… Claude Code CLIï¼ˆå»ºè®®ï¼š`npm install -g @anthropic-ai/claude-code`ï¼‰ã€‚\n    *   ä½¿ç”¨ `fnm` ç®¡ç† Node.js ç¯å¢ƒã€‚\n    *   ç»ˆç«¯è¿è¡Œ `npx --version` èƒ½æ­£å¸¸è¾“å‡ºã€‚\n\n---\n\n## ğŸš€ é…ç½®æ­¥éª¤\n\n### ç¬¬ä¸€æ­¥ï¼šå®‰è£… ACP é€‚é…å™¨\n\næˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œæ¡¥æ¢â€å°† Claude Code è½¬æ¢ä¸º IDE èƒ½å¬æ‡‚çš„ ACP åè®®ã€‚æ¨èä½¿ç”¨ Zed å®˜æ–¹ç»´æŠ¤çš„é€‚é…å™¨ï¼š\n\n```bash\nnpm install -g @zed-industries/claude-code-acp\n```\n\n### ç¬¬äºŒæ­¥ï¼šé…ç½® WebStorm ACP\n\nè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬éœ€è¦é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥å‘Šè¯‰ IDE å¦‚ä½•å¯åŠ¨ Claude Codeï¼Œå¹¶æ³¨å…¥å¿…è¦çš„ç¯å¢ƒå˜é‡ã€‚\n\n1.  æ‰“å¼€ WebStormï¼Œè¿›å…¥ **AI Chat** å·¥å…·çª—å£ï¼ˆ`View` â†’ `Tool Windows` â†’ `AI Chat`ï¼‰ã€‚\n2.  ç‚¹å‡»çª—å£å³ä¸Šè§’çš„ **é½¿è½®å›¾æ ‡ âš™ï¸**ï¼Œé€‰æ‹© **Configure ACP Agents**ã€‚\n3.  ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰“å¼€ `acp.json` é…ç½®æ–‡ä»¶ï¼š\n    *   **macOS / Linux**: `~/.jetbrains/acp.json`\n    *   **Windows**: `%USERPROFILE%\\.jetbrains\\acp.json`\n\nè¯·å°†æ–‡ä»¶å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹é…ç½®ï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ API Key å’Œ URLï¼‰ï¼š\n\n```json\n{\n  \"agent_servers\": {\n    \"Claude Code (Custom)\": {\n      \"command\": \"/bin/zsh\",\n      \"args\": [\n        \"-c\",\n        \"pkill -f 'npx.*@zed-industries/claude-code-acp' || true; fnm exec -- npx @zed-industries/claude-code-acp\"\n      ],\n      \"env\": {\n        \"ANTHROPIC_API_KEY\": \"your-custom-api-key-here\",\n        \"ANTHROPIC_BASE_URL\": \"https://your-custom-api-url.com/v1\"\n      }\n    }\n  }\n}\n```\n\n### ğŸ’¡ é…ç½®åŸç†è§£æï¼ˆä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ï¼Ÿï¼‰\n\nè¿™æ®µé…ç½®çœ‹ä¼¼å¤æ‚ï¼Œå®åˆ™è§£å†³ä¸¤ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼š\n\n1.  **è‡ªåŠ¨æ¸…ç†åƒµå°¸è¿›ç¨‹ (`pkill ... || true`)**ï¼š\n    æ¯æ¬¡é‡å¯ IDE æˆ– Agent æ—¶ï¼Œæ—§çš„è¿›ç¨‹å¯èƒ½ä¾ç„¶é©»ç•™ã€‚è¿™è¡Œå‘½ä»¤ä¼šåœ¨å¯åŠ¨æ–°æœåŠ¡å‰å¼ºåˆ¶æ¸…ç†æ—§çš„ adapter è¿›ç¨‹ï¼Œé˜²æ­¢ç«¯å£å ç”¨æˆ–å†…å­˜æ³„æ¼ã€‚`|| true` ä¿è¯äº†å³ä½¿æ²¡æœ‰æ—§è¿›ç¨‹ï¼Œå‘½ä»¤ä¹Ÿä¸ä¼šæŠ¥é”™é€€å‡ºã€‚\n\n2.  **è§£å†³ fnm è·¯å¾„é—®é¢˜ (`fnm exec --`)**ï¼š\n    WebStorm å¯åŠ¨å­è¿›ç¨‹æ—¶ï¼Œé»˜è®¤çš„ `$PATH` å¯èƒ½ä¸åŒ…å« `fnm` åŠ¨æ€æ³¨å…¥çš„ Node è·¯å¾„ã€‚ç›´æ¥å†™ `npx` å¾€å¾€ä¼šæŠ¥é”™ã€‚\n    ä½¿ç”¨ `fnm exec --` å¯ä»¥å¼ºåˆ¶åœ¨å½“å‰ shell ä¸Šä¸‹æ–‡ä¸­åŠ¨æ€åŠ è½½æ­£ç¡®çš„ Node ç¯å¢ƒï¼Œå½»åº•è§£å†³â€œæ‰¾ä¸åˆ°å‘½ä»¤â€çš„é—®é¢˜ã€‚\n\n3.  **è‡ªå®šä¹‰ API æ”¯æŒ (`env` å­—æ®µ)**ï¼š\n    é€šè¿‡æ˜¾å¼æ³¨å…¥ `ANTHROPIC_BASE_URL`ï¼Œä½ å¯ä»¥è½»æ¾åˆ‡æ¢åˆ°ä»»ä½•å…¼å®¹ OpenAI/Anthropic æ ¼å¼çš„æ¥å£ï¼ˆåŠ¡å¿…ç¡®ä¿ URL ä»¥ `/v1` ç»“å°¾ï¼‰ã€‚\n\n---\n\n## ğŸ’» ä½¿ç”¨æ–¹æ³•\n\n1.  ä¿å­˜ `acp.json` æ–‡ä»¶ã€‚\n2.  **å®Œå…¨é‡å¯ WebStorm**ï¼ˆç¡®ä¿é…ç½®é‡è½½ï¼‰ã€‚\n3.  æ‰“å¼€ **AI Chat** çª—å£ã€‚\n4.  ç‚¹å‡»è¾“å…¥æ¡†ä¸Šæ–¹çš„ Agent é€‰æ‹©ä¸‹æ‹‰èœå•ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ° **\"Claude Code (Custom)\"**ã€‚\n5.  é€‰ä¸­å®ƒï¼Œå¼€å§‹å¯¹è¯ï¼å°è¯•è®©å®ƒâ€œé‡æ„å½“å‰æ–‡ä»¶â€æˆ–â€œä¿®å¤è¿™ä¸ª Bugâ€ï¼Œä½ ä¼šå‘ç°æ›´æ”¹ä¼šç›´æ¥æ˜¾ç¤ºåœ¨ IDE çš„ Diff è§†å›¾ä¸­ï¼Œä½“éªŒæä½³ã€‚\n\n---\n\n## â“ å¸¸è§é—®é¢˜æ’æŸ¥ (FAQ)\n\n**Q1: Agent é€‰é¡¹æ²¡æœ‰å‡ºç°ï¼Œæˆ–è€…å¯åŠ¨æŠ¥é”™æ€ä¹ˆåŠï¼Ÿ**\n*   **æŸ¥çœ‹æ—¥å¿—**ï¼šç‚¹å‡» AI Chat çª—å£å³ä¸Šè§’é½¿è½® â†’ **Get ACP Logs**ã€‚\n*   **æ£€æŸ¥ JSON**ï¼šç¡®ä¿ JSON æ ¼å¼åˆæ³•ï¼ˆå°¤å…¶æ˜¯é€—å·å’Œå¼•å·ï¼‰ã€‚\n*   **å…¨å±€å®‰è£…**ï¼šç¡®è®¤é€‚é…å™¨å·²å®‰è£…ï¼š`npm ls -g @zed-industries/claude-code-acp`ã€‚\n\n**Q2: è‡ªå®šä¹‰ API ä¼¼ä¹æ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ**\n*   æ£€æŸ¥ `ANTHROPIC_BASE_URL` æ˜¯å¦åŒ…å«åè®®å¤´ï¼ˆ`https://`ï¼‰å’Œç‰ˆæœ¬åç¼€ï¼ˆ`/v1`ï¼‰ã€‚\n*   å»ºè®®å…ˆåœ¨ç»ˆç«¯æ‰‹åŠ¨æµ‹è¯•è¿æ¥ï¼š\n    ```bash\n    ANTHROPIC_API_KEY=xxx ANTHROPIC_BASE_URL=yyy npx @zed-industries/claude-code-acp\n    ```\n\n**Q3: ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ `/bin/bash`ï¼Ÿ**\n*   å¦‚æœä½ æ˜¯ macOS ç”¨æˆ·ï¼Œé»˜è®¤ Shell é€šå¸¸æ˜¯ `zsh`ï¼Œä¸” `fnm` é…ç½®é€šå¸¸åœ¨ `~/.zshrc` ä¸­ã€‚å¦‚æœä½ ä½¿ç”¨ bashï¼Œè¯·å°†é…ç½®ä¸­çš„ `/bin/zsh` æ”¹ä¸º `/bin/bash`ã€‚\n\n---\n\n## ğŸ”— å‚è€ƒèµ„æ–™\n\n*   [JetBrains ACP å®˜æ–¹æ–‡æ¡£](https://www.jetbrains.com/help/ai-assistant/acp.html)\n*   [Zed Claude Code ACP Adapter (GitHub)](https://github.com/zed-industries/claude-code-acp)\n*   [Claude Code å®˜æ–¹æ–‡æ¡£](https://code.claude.com/docs)\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]},{"id":30,"title":"ã€AIã€‘Vibe Coding å¼€å‘èµ„æº","created_at":"2025-10-28T03:04:08Z","updated_at":"2025-10-28T03:04:08Z","content":"### ç¼–ç¨‹æŒ‡å—\n\n- [AIååŒç¼–ç¨‹æŒ‡å—](https://vibercoding.zxiaoruan.cn/vibe-coding/æ¬¢è¿.html)\n\n### ç¼–ç¨‹å·¥å…·\n\n- [AIç¼–ç¨‹å·¥å…·æ±‡æ€»å¯¹æ¯”](https://rysonai.com)","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/30/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]}],"tag":"ai"},"__N_SSG":true}