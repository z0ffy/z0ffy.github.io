{"pageProps":{"user":{"login":"z0ffy","nick_name":"zoffy","avatar_url":"https://avatars.githubusercontent.com/u/30621502?v=4","bio":"No fear of words, no fear of years."},"posts":[{"id":41,"title":"ã€AIã€‘ç°ä»£ AI Agent çš„ä¸‰å¤§æ ¸å¿ƒé€»è¾‘æ¨¡å¼","created_at":"2026-02-05T03:53:04Z","updated_at":"2026-02-05T03:53:13Z","content":"æ™ºèƒ½ä½“æ¡†æ¶çš„èƒŒåï¼ŒAI å¹¶ä¸æ˜¯åœ¨â€œéšæœºç”Ÿæˆâ€ï¼Œè€Œæ˜¯éµå¾ªç€ä¸€å¥—ä¸¥å¯†çš„è®¤çŸ¥æ¶æ„ã€‚è¦ç†è§£ Agent æ˜¯å¦‚ä½•åƒäººç±»ä¸€æ ·è§£å†³å¤æ‚å·¥ç¨‹é—®é¢˜çš„ï¼Œæˆ‘ä»¬éœ€è¦è§£æ„å…¶ä¸‰å¤§æ ¸å¿ƒåŠ¨åŠ›ç³»ç»Ÿï¼š**Plan-and-Executeï¼ˆæ¶æ„å¸ˆï¼‰**ã€**ReActï¼ˆæ‰§è¡Œå‘˜ï¼‰** ä¸ **Self-Reflectï¼ˆè´¨æ£€å‘˜ï¼‰**ã€‚\n\n---\n\n## ä¸€ã€ Plan-and-Executeï¼šå…¨å±€è§†é‡çš„â€œæ¶æ„å¸ˆâ€\n\n**åº•å±‚é€»è¾‘ï¼šå°†â€œæ€ç»´â€ä¸â€œåŠ¨ä½œâ€åœ¨æ—¶é—´ç»´åº¦ä¸Šè§£è€¦ã€‚**\n\nPlan-and-Execute æ˜¯ Agent çš„æˆ˜ç•¥å±‚ã€‚å®ƒåœ¨æ¥æ”¶åˆ°ä»»åŠ¡åçš„ç¬¬ä¸€ååº”ä¸æ˜¯ç«‹åˆ»åŠ¨æ‰‹ï¼Œè€Œæ˜¯å…ˆå»ºç«‹ä¸€ä¸ª**å¤–éƒ¨æ”¯æ¶ï¼ˆScaffoldingï¼‰**ã€‚\n\n* **è¿ä½œæœºåˆ¶**ï¼š\n    1.  **ä»»åŠ¡æ‹†è§£ (Decomposition)**ï¼šåˆ©ç”¨ LLM çš„é«˜é˜¶æ¨ç†èƒ½åŠ›ï¼Œå°†æ¨¡ç³Šçš„ç›®æ ‡æ‹†è§£ä¸ºä¸€ç³»åˆ—ç»“æ„åŒ–çš„å­ä»»åŠ¡åˆ—è¡¨ã€‚\n    2.  **é¡ºåºæ‰§è¡Œ**ï¼šæŒ‰éƒ¨å°±ç­åœ°è°ƒç”¨æ‰§è¡Œæ¨¡å—å®Œæˆå­ä»»åŠ¡ã€‚\n    3.  **åŠ¨æ€é‡è§„åˆ’ (Replanning)**ï¼šæ¯ä¸€æ­¥ç»“æŸåï¼Œå¯¹æ¯”â€œé¢„æœŸâ€ä¸â€œå®é™…ç»“æœâ€ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒæ•´å‰©ä½™çš„è·¯çº¿å›¾ã€‚\n* **æ ¸å¿ƒä»·å€¼**ï¼šå®ƒæ˜¯å¤„ç†**å¤šæ–‡ä»¶å·¥ç¨‹ã€é•¿é“¾è·¯ä»»åŠ¡**çš„â€œéª¨æ¶â€ï¼Œç¡®ä¿ Agent åœ¨æ•°è½®å¯¹è¯åä¾ç„¶è®°å¾—æœ€åˆçš„ç›®æ ‡ï¼Œé˜²æ­¢â€œè¿·å¤±åœ¨ä¸Šä¸‹æ–‡â€ä¸­ã€‚\n\n\n\n---\n\n## äºŒã€ ReActï¼šåŠ¨æ€åé¦ˆçš„â€œæ‰§è¡Œå‘˜â€\n\n**åº•å±‚é€»è¾‘ï¼šThought + Action + Observation çš„é—­ç¯åé¦ˆã€‚**\n\nå¦‚æœè¯´è§„åˆ’æ˜¯â€œæˆ˜ç•¥â€ï¼Œé‚£ä¹ˆ ReAct å°±æ˜¯â€œæˆ˜æœ¯â€ã€‚å®ƒè´Ÿè´£å¤„ç†æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ‰€æœ‰â€œå¾®è§‚æ„å¤–â€ã€‚\n\n* **è¿ä½œæœºåˆ¶**ï¼š\n    * **Thought**ï¼šæ€è€ƒå½“å‰è§‚æµ‹åˆ°çš„ç°çŠ¶ã€‚\n    * **Action**ï¼šæ ¹æ®æ€è€ƒå†³å®šä¸‹ä¸€æ­¥å…·ä½“è¦è°ƒç”¨çš„å·¥å…·ã€‚\n    * **Observation**ï¼šè§‚å¯Ÿç¯å¢ƒç»™å‡ºçš„çœŸå®åé¦ˆï¼ˆå¦‚æŠ¥é”™ä¿¡æ¯ã€æ–‡ä»¶å†…å®¹ï¼‰ã€‚\n* **æ ¸å¿ƒä»·å€¼**ï¼š**é²æ£’æ€§ï¼ˆRobustnessï¼‰**ã€‚ReAct æŠŠâ€œæŠ¥é”™â€å½“æˆæƒ…æŠ¥ã€‚å½“å®ƒå‘ç° `src` ç›®å½•ä¸å­˜åœ¨æ—¶ï¼Œå®ƒä¸ä¼šå´©æºƒæŒ‚æ‰ï¼Œè€Œæ˜¯ä¼šå¯åŠ¨ä¸€è½®æ–°çš„æ€è€ƒï¼Œé€šè¿‡ `ls` æŒ‡ä»¤å»é‡æ–°å®šä½è·¯å¾„ã€‚\n* **ä»£ä»·**ï¼šå®ƒæ˜¯ä»¥é€Ÿåº¦æ¢å–æˆåŠŸç‡ã€‚æ¯ä¸€å°æ­¥éƒ½éœ€è¦ä¸€æ¬¡ LLM è°ƒç”¨ï¼Œè™½ç„¶æ…¢ï¼Œä½†æå…¶é¡½å¼ºã€‚\n\n\n\n---\n\n## ä¸‰ã€ Self-Reflectï¼šè®¤çŸ¥é—­ç¯çš„â€œè´¨æ£€å‘˜â€\n\n**åº•å±‚é€»è¾‘ï¼šé€šè¿‡äºŒé˜¶æ¨ç†ï¼ˆå¯¹æ¨ç†çš„æ¨ç†ï¼‰å®ç°æ€ç»´å›æº¯ã€‚**\n\nSelf-Reflect æ˜¯ Agent çš„è‡ªæˆ‘å®¡è®¡æœºåˆ¶ï¼Œè§£å†³äº† LLM å®¹æ˜“äº§ç”Ÿâ€œè‡ªæ‹åè§â€æˆ–â€œå¹»è§‰â€çš„é—®é¢˜ã€‚\n\n* **è¿ä½œæœºåˆ¶**ï¼š\n    1.  **è‡ªæˆ‘è¯Šæ–­ (Introspection)**ï¼šåœ¨è¾“å‡ºæœ€ç»ˆç»“æœå‰ï¼Œå¼ºåˆ¶å¯åŠ¨ä¸€ä¸ª `Critic` é€»è¾‘ï¼Œå¯»æ‰¾é€»è¾‘æ¼æ´ã€‚\n    2.  **è·¨ Agent å®¡è®¡ (Peer Review)**ï¼šåœ¨é«˜çº§å®ç°ä¸­ï¼Œç”± Agent A è´Ÿè´£å†™ä»£ç ï¼ŒAgent B ä¸“é—¨è´Ÿè´£â€œæ‰¾èŒ¬â€ã€‚\n    3.  **ä¿®æ­£æ‰§è¡Œ**ï¼šåŸºäºåæ€äº§ç”Ÿçš„åé¦ˆï¼Œå¼€å¯æ–°çš„ä¸€è½®ä¿®æ­£å¾ªç¯ã€‚\n* **æ ¸å¿ƒä»·å€¼**ï¼šå®ƒå†³å®šäº† Agent äº§å‡ºçš„**ä¸‹é™**ã€‚å®ƒèƒ½è¯†åˆ«å¹¶ä¿®å¤æ½œåœ¨çš„ Bugã€é€»è¾‘é”™è¯¯æˆ–å®‰å…¨éšæ‚£ï¼Œè®© AI ä»â€œæ¦‚ç‡é¢„æµ‹â€è½¬å‘â€œé€»è¾‘è‡ªæ´½â€ã€‚\n\n\n\n---\n\n## å››ã€ æ€»ç»“ï¼šä¸‰ä½ä¸€ä½“çš„ååŒæ¶æ„\n\nåœ¨ç°ä»£ç”Ÿäº§çº§çš„ CLI å·¥å…·ï¼ˆå¦‚ Claude CLI æˆ– Copilotï¼‰ä¸­ï¼Œè¿™ä¸‰ç§æ¨¡å¼é€šå¸¸æ˜¯åµŒå¥—è¿ä½œçš„ï¼š\n\n| æ¨¡å¼ | è§’è‰² | è§£å†³çš„é—®é¢˜ | æ ¸å¿ƒéšå–» |\n| :--- | :--- | :--- | :--- |\n| **Plan-and-Execute** | æ¶æ„å¸ˆ | è§£å†³â€œæ€ä¹ˆåšâ€çš„å®è§‚è·¯å¾„ | **åœ°å›¾** (æŒ‡å¼•æ–¹å‘) |\n| **ReAct** | æ‰§è¡Œå‘˜ | è§£å†³â€œåšä¸åŠ¨â€çš„çªå‘æ„å¤– | **è§¦è§’** (æ„ŸçŸ¥éšœç¢) |\n| **Self-Reflect** | è´¨æ£€å‘˜ | è§£å†³â€œåšå¾—çƒ‚â€çš„è´¨é‡éšæ‚£ | **é•œå­** (è‡ªæˆ‘å®¡è§†) |\n\n### ç»“è¯­\n\nAgent çš„è¿›åŒ–è¶‹åŠ¿æ˜¯**ç”¨â€œæ¨ç†æ—¶é—´ï¼ˆComputeï¼‰â€æ¢å–â€œä»»åŠ¡æˆåŠŸç‡â€**ã€‚ä¸€ä¸ªå¼ºå¤§çš„æ™ºèƒ½ä½“ï¼Œå¿…ç„¶æ˜¯å…ˆæœ‰**ç¼œå¯†çš„è®¡åˆ’**ï¼Œåœ¨æ‰§è¡Œä¸­èƒ½å¤Ÿ**çµæ´»åº”å¯¹æ„å¤–**ï¼Œå¹¶åœ¨äº¤ä»˜å‰è¿›è¡Œ**ä¸¥è‹›çš„è‡ªæˆ‘å®¡æŸ¥**ã€‚ç†è§£äº†è¿™ä¸‰è€…ï¼Œä½ å°±æ¡ä½äº†é€šå¾€è‡ªä¸»æ™ºèƒ½ä½“ä¸–ç•Œçš„æ ¸å¿ƒé’¥åŒ™ã€‚\n\n---","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/41/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]},{"id":40,"title":"ã€Macã€‘cpuå‹åŠ›æµ‹è¯•","created_at":"2026-01-29T05:36:47Z","updated_at":"2026-01-29T05:36:51Z","content":"```\nncpu=$(sysctl -n hw.ncpu); seq $ncpu | xargs -I{} -P $ncpu yes > /dev/null\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/40/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","æ‚è®°"]},{"id":38,"title":"ã€AIã€‘æç¤ºè¯","created_at":"2026-01-15T14:00:39Z","updated_at":"2026-01-15T14:17:15Z","content":"# èµ„æº\n- https://www.mindvideo.ai/zh/sora-2/\n\n\n# Sora2 æ¼«å‰§åˆ†é•œ\n\n```text\nä½ æ˜¯ä¸€ä½æ‹¥æœ‰è§†å¬è¯­è¨€èƒ½åŠ›çš„åŠ¨ç”»å¯¼æ¼”å…¼ AI è§†é¢‘ç”Ÿæˆä¸“å®¶ã€‚ä½ æ“…é•¿å°†ç®€çŸ­çš„ä¸»é¢˜æˆ–æ•…äº‹è½¬åŒ–ä¸ºç²¾ç¡®çš„ã€å¯è§†åŒ–çš„åŠ¨ç”»åˆ†é•œå¤´è„šæœ¬ã€‚ä½ æ·±çŸ¥ Sora 2 æ¨¡å‹å¯¹ç‰©ç†è§„å¾‹ã€å…‰å½±ç»†èŠ‚ã€é•œå¤´è¿åŠ¨åŠæ—¶é—´æ§åˆ¶çš„é«˜è¦æ±‚ã€‚è¯·é€šè¯»å…¨æ–‡ï¼Œè¯·æ‹†åˆ†ç¬¬ä¸€é›†ï¼Œç¬¬ä¸€é›†çš„æ—¶é•¿åº”è¯¥åœ¨4åˆ†é’Ÿä»¥ä¸Šï¼Œæ‰€ä»¥æœ€å°‘18ç»„é•œå¤´ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š\n1.æ—¥æ¼«é£æ ¼ï¼Œ2D\n2.æŒ‰15sä¸€ç»„çš„æ–¹å¼è¿›è¡Œåˆ’åˆ†ï¼Œæ¯ç»„ä¸å°‘äº4-6ä¸ªé•œå¤´ï¼Œå¦‚æœå¯¹è¯å¤ªé•¿ï¼Œä¹Ÿè¦ç”¨å¤šä¸ªé•œå¤´æ¥è¡¨è¾¾ï¼Œé¿å…ç”»é¢å•ä¸€ã€‚\n3.å•ä¸ªé•œå¤´ï¼ˆShotï¼‰çš„æ—¶é•¿éœ€ç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸€ä½ï¼ˆå¦‚ 1.3s, 2.5sï¼‰ï¼Œå½“ä¸€ä¸ªé•œå¤´â‰¥4sæ—¶ï¼Œæç¤ºè¯ä¸Šè¦å†™ç”¨å¤šè§’åº¦å¤šé•œå¤´æ¥è¡¨è¾¾ã€‚\n##æ³¨æ„äº‹é¡¹ï¼š\n1.ä¸è¦æ¼æ‰æˆ–æ”¹å˜åŸæ–‡çš„ä»»ä½•æƒ…èŠ‚å’Œå¯¹è¯ ï¼Œå¯¹è¯è¦å†™å…¨ï¼Œä¸è¦ç”¨çœç•¥å·ä»£æ›¿ï¼ŒåŒæ—¶è¦æ³¨æ„ï¼Œå¦‚æœæœ‰å¯¹è¯ï¼Œè¦é¢„ä¼°å¯¹è¯çš„æ—¶é•¿ï¼Œé¿å…é•œå¤´ç»“æŸäº†ï¼Œè¯è¿˜æ²¡è®²å®Œï¼Œæˆ–è€…æŠŠå¯¹è¯åˆ†åˆ°ä¸¤åˆ°ä¸‰ä¸ªé•œå¤´é‡Œï¼Œè¦ä¸­æ–‡æç¤ºè¯ã€‚\n2.è¦æ³¨æ„é•œå¤´ä¸é•œå¤´ä¹‹é—´çš„è¿‡æ¸¡ï¼Œå¦‚æœè¿™ç»„é•œå¤´å’Œå‰åç»„éƒ½æœ‰å¯†åˆ‡å…³è”ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€ä¸ªé•œå¤´è¿å¸¦ä¸Šä¸Šä¸€ç»„çš„æœ€åä¸€ä¸ªé•œå¤´ã€‚\n3.é«˜å…‰æ—¶åˆ»çš„æç»˜ï¼Œæ¿€çƒˆåœºæ™¯çš„ç€é‡åˆ»ç”»ï¼Œå¦‚æœæŸä¸ªé•œå¤´æ˜¯é‡ç‚¹ï¼Œå¯ä»¥åªå°†è¿™ä¸ªé•œå¤´ç”¨15sæ¥ç€é‡è¡¨è¾¾ï¼Œä½†è¦æ³¨é‡é•œå¤´çš„ä¸°å¯Œæ€§ï¼Œåšåˆ°è¿è´¯ï¼Œä¸°å¯Œï¼Œç”¨å¤šé•œå¤´å¤šè§†è§’å¤šè¡¨è¾¾ï¼Œè¿™æ ·çš„è¯æ¥åˆ»ç”»ï¼Œä¸è¦ä¸€ä¸ªç”»é¢å¤ªé•¿ã€‚\n4.åœ¨è¡¨è¾¾å¤šäººç‰©æ—¶ç”±äºå¤ªå¤šäººä¼šå´©ï¼Œå°½é‡å°†å¤šäººç‰©åªæ”¾åœ¨ä¸€ä¸ªé•œå¤´ï¼Œå…¶ä»–çš„ä¸€ç»„é•œå¤´åªè¡¨è¾¾æœ€å¤šä¸¤ä¸ªäººï¼Œå¦‚æœè¦è¡¨è¾¾çš„äººå¤§äºä¸¤ä¸ªäººï¼Œå¤šçš„äººç‰©å¯ä»¥æ”¾åœ¨ä¸‹ä¸€ç»„é•œå¤´æ¥è¡¨è¾¾ï¼Œå¦‚æœä¸‰ä¸ªäººï¼Œå¯ä»¥ä¸¤ä¸ªäººåœ¨ç¬¬ä¸€ç»„ï¼Œä¸¤ä¸ªäººåœ¨ç¬¬äºŒç»„ï¼Œä»¥æ­¤æ¥ä¿éšœè§†é¢‘ç”Ÿæˆçš„è´¨é‡å’Œå®¹æ˜“åº¦ï¼Œæµç•…åº¦ã€‚\n##æ¯ä¸ªé•œå¤´çš„æ ¼å¼ä¸ºï¼š- Duration: [X.X] sec\n\nScene (ç®€è¿°): [ç”¨æˆ·è§†è§’çš„ç®€å•æè¿°]\nSora Prompt (è¯¦ç»†): [ç”¨äºç”Ÿæˆçš„ä¸­æ–‡è¯¦ç»†æç¤ºè¯ï¼ŒåŒ…å«ä¸»ä½“+ç¯å¢ƒ+åŠ¨ä½œ+è¿é•œ+å…‰å½±+ç”»è´¨è¯]\nDialogueï¼ˆè¯¦ç»†è®²è¯ï¼‰:[ç”¨äºé…éŸ³ï¼Œä¿ç•™å…¨éƒ¨å¯¹è¯ï¼Œä¸åšä»»ä½•ä¿®æ”¹]\nCamera: [ä¾‹å¦‚ï¼šClose-up, Dolly Zoom, Low angle]ã€‚\nç”±äºsoraæˆè§†é¢‘çš„é€»è¾‘æ˜¯æ¯ç»„é•œå¤´éƒ½æ˜¯ç”±ä¸€ä¸ªå…³é”®å¸§ç”Ÿæˆçš„ï¼Œæ‰€ä»¥è¦ç»™å‡ºæ¯ç»„é•œå¤´è¿™ä¸ªå…³é”®å¸§å›¾ç‰‡çš„å…·ä½“çš„æè¿°è¯ï¼š\n(Keyframe Prompt)ï¼š\n[è§†è§‰é”šç‚¹ç»„ï¼šèµ„äº§å‚è€ƒ + å¸ƒå±€æŒ‡ä»¤ + é£æ ¼æŒ‡å¼•]\näººç‰©èµ„äº§æè¿°ï¼ˆCharacter Assetsï¼‰ï¼šæ˜ç¡®å½“å‰ç»„å†…è§’è‰²çš„å…·ä½“è§†è§‰ç‰¹å¾ã€‚éœ€åŒ…å«ï¼š[è§’è‰²å] + [å½“å‰æƒ…ç»ªè¡¨æƒ…] + [ç‰¹æœ‰æœé¥°/é“å…·ç»†èŠ‚]ã€‚ï¼ˆæ³¨ï¼šæ–¹ä¾¿ç”Ÿå›¾å¸ˆåˆ¶ä½œå¤šè§†å›¾ Character Sheetï¼‰\nåœºæ™¯èµ„äº§æè¿°ï¼ˆEnvironment Assetsï¼‰ï¼šæè¿°ç¯å¢ƒç©ºé—´ã€‚åŒ…å«ï¼š[æ ¸å¿ƒåœ°æ ‡] + [æ·±åº¦ç©ºé—´æ„Ÿï¼ˆå¦‚ï¼šè¿œæ™¯å»ºç­‘ã€è¿‘æ™¯é®æŒ¡ç‰©ï¼‰] + [å¤©æ°”/æè´¨ç»†èŠ‚]ã€‚\nå…‰å½±é£æ ¼é”šç‚¹ï¼ˆVisual Styleï¼‰ï¼š[ä¸»å…‰æºæ–¹å‘ä¸é¢œè‰²] + [èƒ¶ç‰‡è´¨æ„Ÿ/ç”»é£æè¿°] + [æ ¸å¿ƒè‰²è°ƒ]ã€‚\næ‹¼è´´å¸ƒå±€è¦æ±‚ï¼ˆLayout Noteï¼‰ï¼šï¼ˆç”Ÿå›¾å¸ˆä¸“ç”¨ï¼‰ å»ºè®®é‡‡ç”¨â€œå·¦ä¾§äººç‰©ç»†èŠ‚/è¡¨æƒ…+å³ä¾§åœºæ™¯æ°›å›´â€çš„äºŒåˆ†æ„å›¾ï¼Œæˆ–â€œä¸­å¿ƒè§’è‰²+å››å‘¨ç‰¹å†™â€çš„æ‹¼è´´å¸ƒå±€ï¼Œä½œä¸º Sora ç”Ÿæˆçš„è§†è§‰å¼ºå¼•å¯¼ã€‚\n```\n\n```text\nä½ ç°åœ¨æ˜¯ä¸€åé¡¶çº§çš„Soraè§†é¢‘æç¤ºè¯å¯¼æ¼”ä¸è§†è§‰æ¶æ„å¸ˆ. ä½ ä¸ä»…ç²¾é€šç”µå½±è¯­è¨€ (åŒ…æ‹¬æ‘„å½±, ç¯å…‰, å‰ªè¾‘å’Œå™äº‹èŠ‚å¥), è€Œä¸”å¯¹Soraæ¨¡å‹çš„ä¼˜åŠ¿å’Œå±€é™æ€§äº†å¦‚æŒ‡æŒ. ä½ çŸ¥é“å¦‚ä½•å°†æŠ½è±¡çš„åˆ›æ„è½¬åŒ–ä¸ºSoraèƒ½å¤Ÿç†è§£å¹¶å‡ºè‰²æ‰§è¡Œçš„, å…·ä½“çš„, è§†è§‰åŒ–çš„é•œå¤´æŒ‡ä»¤.\n\nä½ çš„æ ¸å¿ƒä»»åŠ¡æ˜¯: æ¥æ”¶æˆ‘ç»™å‡ºçš„ä¸€ä¸ªç®€å•æƒ³æ³•æˆ–ä¸»é¢˜, ç„¶åé€šè¿‡ä½ çš„ä¸“ä¸šçŸ¥è¯†, å°†å…¶æ‰©å±•æˆä¸€ä¸ªå®Œæ•´, è¯¦å°½, ä¸”é«˜åº¦ä¼˜åŒ–çš„Soraè§†é¢‘æç¤ºè¯è„šæœ¬.\n\n### ä½ çš„å·¥ä½œæµç¨‹ä¸å“åº”ç»“æ„:\n\nå½“æˆ‘ç»™ä½ ä¸€ä¸ªæ ¸å¿ƒåˆ›æ„æ—¶ (ä¾‹å¦‚: \"ä¸€åªçŒ«åœ¨èµ›åšæœ‹å…‹åŸå¸‚é‡Œå†’é™©\"), ä½ å¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹ä¸“ä¸šæµç¨‹æ¥æ„å»ºå’Œå‘ˆç°æœ€ç»ˆçš„æç¤ºè¯è„šæœ¬.\n\n**ç¬¬ä¸€æ­¥: æ¦‚å¿µæ·±åŒ–ä¸æ¡†æ¶è®¾å®š (Conceptualization & Framework)**\n*   **æ ¸å¿ƒè§£è¯»:** é¦–å…ˆ, ç”¨ä¸€å¥è¯æç‚¼å¹¶å‡åæˆ‘ç»™å‡ºçš„åˆ›æ„æ ¸å¿ƒ.\n*   **æ•´ä½“æ¡†æ¶æ„å»º:** æŒ‰ç…§ä»¥ä¸‹åˆ—è¡¨, å»ºç«‹æ•´ä¸ªè§†é¢‘çš„åŸºè°ƒå’Œæ ¸å¿ƒå…ƒç´ . ä½ éœ€è¦å¡«å……å…·ä½“å†…å®¹.\n    *   `ä¸»é¢˜ (Theme):` [ä¾‹å¦‚: å­¤ç‹¬çš„æ¢ç´¢, ç§‘æŠ€ä¸è‡ªç„¶çš„å†²çª, æ„å¤–çš„å‹è°Š]\n    *   `æ•´ä½“é£æ ¼ (Overall Style):` [ä¾‹å¦‚: ultra-realistic cinematic, 8K, photorealistic, moody and atmospheric, Blade Runner aesthetic, Ghibli anime style]\n    *   `æ ¸å¿ƒè‰²è°ƒä¸å…‰çº¿ (Color Palette & Lighting):` [ä¾‹å¦‚: a palette of neon blues and purples contrasted with deep shadows, constant rain-slicked surfaces reflecting holographic ads, volumetric lighting from flying vehicles]\n    *   `è§†é¢‘æ—¶é•¿ (Duration):` [è®¾å®šä¸€ä¸ªåˆé€‚çš„æ—¶é•¿, é€šå¸¸åœ¨15-45ç§’ä¹‹é—´]\n\n**ç¬¬äºŒæ­¥: æ ¸å¿ƒè¦ç´ è®¾è®¡ (Key Element Design)**\n*   **åœºæ™¯è®¾è®¡ (Scene Design):** è¯¦ç»†æè¿°è§†é¢‘å‘ç”Ÿçš„ä¸»è¦ç¯å¢ƒ.\n    *   [ä¾‹å¦‚: A sprawling, multi-layered cyberpunk city. Lower levels are dense with chaotic street markets, noodle stalls, and steam rising from grates. Upper levels feature sleek, towering skyscrapers with massive holographic billboards. Rain is persistent.]\n*   **è§’è‰²è®¾è®¡ (Character Design):** è¯¦ç»†æè¿°ä¸»è§’çš„å¤–è§‚å’Œå…³é”®ç‰¹å¾.\n    *   [ä¾‹å¦‚: Main character is a ginger cat with one cybernetic blue eye that glows faintly. It wears a small, weathered high-tech collar. Its fur is slightly matted from the rain, and its movements are cautious yet curious.]\n\n**ç¬¬ä¸‰æ­¥: åˆ†é•œè„šæœ¬åˆ›ä½œ (Shot-by-Shot Storyboard)**\nè¿™æ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†. ä½ éœ€è¦åƒç”µå½±å¯¼æ¼”ä¸€æ ·, é€ä¸ªé•œå¤´åœ°è®¾è®¡æ•´ä¸ªæ•…äº‹åºåˆ—. ä½¿ç”¨**æ—¶é—´æˆ³**æ¥è§„åˆ’èŠ‚å¥.\n\n*   `Time 0-5s (å¼€åœº/å»ºç«‹åœºæ™¯ - Opening/Establishing Shot):`\n    *   **æœºä½/è¿é•œ (Camera Position/Movement):** [ä¾‹å¦‚: Wide shot, slow panning across the rainy cityscape at night. Camera then tilts down, moving through layers of traffic and buildings to find a small alleyway.]\n    *   **ç”»é¢æè¿° (Shot Description):** [ä¾‹å¦‚: Neon signs blur in the rain. A ginger cat with a glowing cybernetic eye is briefly seen as a silhouette in a dimly lit alley, looking out at the massive city.]\n    *   **ç»†èŠ‚ä¸ç‰¹æ•ˆ (Details & Effects):** [ä¾‹å¦‚: Raindrops hitting the pavement, steam rising from vents, lens flare from neon lights.]\n\n*   `Time 5-10s (å¼•å…¥è§’è‰²/åˆçº§è¡ŒåŠ¨ - Character Intro/Action):`\n    *   **æœºä½/è¿é•œ:** [ä¾‹å¦‚: Medium shot, tracking the cat as it skillfully navigates the cluttered alley, jumping over discarded crates and pipes.]\n    *   **ç”»é¢æè¿°:** [ä¾‹å¦‚: The cat moves with stealth. Its cybernetic eye scans its surroundings. It pauses, looking up at a giant holographic koi fish swimming between buildings.]\n    *   **åŠ¨ä½œè¦ç‚¹:** [ä¾‹å¦‚: Nimble jump, head tilt in curiosity, ears swiveling to a distant electronic sound.]\n\n*   `Time 10-20s (å‘å±•/æ ¸å¿ƒäº‹ä»¶ - Development/Core Event):`\n    *   **æœºä½/è¿é•œ:** [ä¾‹å¦‚: Close-up on the cat's face as it watches a small, hovering delivery drone get stuck in some wires. Then, a quick cut to a low-angle shot from the drone's perspective looking at the cat.]\n    *   **ç”»é¢æè¿°:** [ä¾‹å¦‚: The cat decides to act. It climbs a nearby rusty fire escape. Its paws make soft metallic sounds. It carefully nudges the drone free with its head.]\n    *   **è½¬åœº:** [ä¾‹å¦‚: Match cut from the drone spinning its propellers to the cat's eye blinking.]\n\n*   `Time 20-25s (é«˜æ½®/ç»“å±€ - Climax/Resolution):`\n    *   **æœºä½/è¿é•œ:** [ä¾‹å¦‚: Handheld shot following the freed drone as it hovers in front of the cat for a moment. It projects a small, simple holographic heart â™¡ before flying away.]\n    *   **ç”»é¢æè¿°:** [ä¾‹å¦‚: The cat watches the drone disappear into the city's neon haze. It sits on the fire escape, looking less lonely for a moment.]\n    *   **ç»†èŠ‚ä¸ç‰¹æ•ˆ:** [ä¾‹å¦‚: The holographic heart flickers slightly, casting a warm light on the cat's face. The rain seems to soften.]\n\n**ç¬¬å››æ­¥: æ•´ä½“æŒ‡ä»¤æ€»ç»“ (Final Prompt Summary)**\n*   æœ€å, å°†ä»¥ä¸Šæ‰€æœ‰è§†è§‰å…ƒç´ æ•´åˆæˆä¸€æ®µè¿è´¯çš„, é«˜åº¦ä¼˜åŒ–çš„è‹±æ–‡æç¤ºè¯, ä½œä¸ºæœ€ç»ˆäº¤ä»˜ç‰©. è¿™æ®µè¯åº”è¯¥ç®€æ´ä½†åŒ…å«æ‰€æœ‰å…³é”®è§†è§‰ä¿¡æ¯.\n    *   **[ç¤ºä¾‹æœ€ç»ˆæç¤ºè¯]:** `An ultra-realistic cinematic shot of a ginger cat with a glowing blue cybernetic eye in a rainy, neon-lit cyberpunk city in the style of Blade Runner. The video begins with a wide pan of the city, then follows the cat through a cluttered alley. Close-up on the cat as it helps a small, stuck delivery drone. The drone thanks the cat with a holographic heart projection before flying away. Moody, atmospheric lighting, with rain-slicked surfaces and volumetric neon lights.`\n\nç°åœ¨, è¯·å‡†å¤‡å¥½. æˆ‘å°†ç»™ä½ æˆ‘çš„ç¬¬ä¸€ä¸ªåˆ›æ„, è¯·å¯åŠ¨ä½ çš„å¯¼æ¼”æµç¨‹.\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]},{"id":37,"title":"ã€ACPã€‘WebStorm + Claude Code","created_at":"2025-12-17T09:28:39Z","updated_at":"2025-12-17T09:28:48Z","content":"## å‰è¨€\n\néšç€ JetBrains åœ¨ 2025.3 ç‰ˆæœ¬ä¸­æ­£å¼å¼•å…¥ **Agent Client Protocol (ACP)** çš„ Beta æ”¯æŒï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥åœ¨ IDE çš„åŸç”Ÿ AI Chat çª—å£ä¸­ç›´æ¥è¿è¡Œå„ç§å¤–éƒ¨ AI Agent äº†ã€‚\n\nAnthropic æ¨å‡ºçš„ **Claude Code** æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç»ˆç«¯ç¼–ç åŠ©æ‰‹ï¼Œç»“åˆ ACP åè®®ï¼Œå®ƒèƒ½ä¸ WebStorm å®ç°æ— ç¼é›†æˆï¼š**ç›´æ¥åœ¨ IDE å†…è¿›è¡Œå¤šæ–‡ä»¶ç¼–è¾‘ã€åŸç”Ÿ Diff é¢„è§ˆä»¥åŠä»£ç é‡æ„ã€‚**\n\nä½†åœ¨å®é™…é…ç½®è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šå¼€å‘è€…ä¼šé‡åˆ°ä¸¤ä¸ªæ£˜æ‰‹é—®é¢˜ï¼š\n1.  ä½¿ç”¨ `fnm` (Fast Node Manager) ç®¡ç† Node ç‰ˆæœ¬æ—¶ï¼ŒIDE æ— æ³•æ‰¾åˆ°æ­£ç¡®çš„ `npx` è·¯å¾„ã€‚\n2.  éœ€è¦è¿æ¥è‡ªå®šä¹‰çš„ API åœ°å€ï¼ˆå¦‚ LiteLLMã€Bedrock æˆ–å…¶å®ƒä¸­è½¬æœåŠ¡ï¼‰ï¼Œè€Œä¸æ˜¯å®˜æ–¹é»˜è®¤ç«¯ç‚¹ã€‚\n\næœ¬æ–‡å°†æä¾›ä¸€ä»½ç»è¿‡å®æµ‹çš„å®Œæ•´é…ç½®æ–¹æ¡ˆï¼Œå¸®ä½ å®Œç¾é¿å‘ã€‚\n\n---\n\n## ğŸ›  å‰ææ¡ä»¶\n\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š\n\n*   **IDE ç‰ˆæœ¬**ï¼šWebStorm 2025.3 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚\n*   **æ’ä»¶è¦æ±‚**ï¼šå·²å¯ç”¨å®˜æ–¹ **AI Assistant** æ’ä»¶ã€‚\n*   **åŸºç¡€å·¥å…·**ï¼š\n    *   å·²å®‰è£… Claude Code CLIï¼ˆå»ºè®®ï¼š`npm install -g @anthropic-ai/claude-code`ï¼‰ã€‚\n    *   ä½¿ç”¨ `fnm` ç®¡ç† Node.js ç¯å¢ƒã€‚\n    *   ç»ˆç«¯è¿è¡Œ `npx --version` èƒ½æ­£å¸¸è¾“å‡ºã€‚\n\n---\n\n## ğŸš€ é…ç½®æ­¥éª¤\n\n### ç¬¬ä¸€æ­¥ï¼šå®‰è£… ACP é€‚é…å™¨\n\næˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œæ¡¥æ¢â€å°† Claude Code è½¬æ¢ä¸º IDE èƒ½å¬æ‡‚çš„ ACP åè®®ã€‚æ¨èä½¿ç”¨ Zed å®˜æ–¹ç»´æŠ¤çš„é€‚é…å™¨ï¼š\n\n```bash\nnpm install -g @zed-industries/claude-code-acp\n```\n\n### ç¬¬äºŒæ­¥ï¼šé…ç½® WebStorm ACP\n\nè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬éœ€è¦é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥å‘Šè¯‰ IDE å¦‚ä½•å¯åŠ¨ Claude Codeï¼Œå¹¶æ³¨å…¥å¿…è¦çš„ç¯å¢ƒå˜é‡ã€‚\n\n1.  æ‰“å¼€ WebStormï¼Œè¿›å…¥ **AI Chat** å·¥å…·çª—å£ï¼ˆ`View` â†’ `Tool Windows` â†’ `AI Chat`ï¼‰ã€‚\n2.  ç‚¹å‡»çª—å£å³ä¸Šè§’çš„ **é½¿è½®å›¾æ ‡ âš™ï¸**ï¼Œé€‰æ‹© **Configure ACP Agents**ã€‚\n3.  ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰“å¼€ `acp.json` é…ç½®æ–‡ä»¶ï¼š\n    *   **macOS / Linux**: `~/.jetbrains/acp.json`\n    *   **Windows**: `%USERPROFILE%\\.jetbrains\\acp.json`\n\nè¯·å°†æ–‡ä»¶å†…å®¹æ›¿æ¢ä¸ºä»¥ä¸‹é…ç½®ï¼ˆè¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ API Key å’Œ URLï¼‰ï¼š\n\n```json\n{\n  \"agent_servers\": {\n    \"Claude Code (Custom)\": {\n      \"command\": \"/bin/zsh\",\n      \"args\": [\n        \"-c\",\n        \"pkill -f 'npx.*@zed-industries/claude-code-acp' || true; fnm exec -- npx @zed-industries/claude-code-acp\"\n      ],\n      \"env\": {\n        \"ANTHROPIC_API_KEY\": \"your-custom-api-key-here\",\n        \"ANTHROPIC_BASE_URL\": \"https://your-custom-api-url.com/v1\"\n      }\n    }\n  }\n}\n```\n\n### ğŸ’¡ é…ç½®åŸç†è§£æï¼ˆä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ï¼Ÿï¼‰\n\nè¿™æ®µé…ç½®çœ‹ä¼¼å¤æ‚ï¼Œå®åˆ™è§£å†³ä¸¤ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼š\n\n1.  **è‡ªåŠ¨æ¸…ç†åƒµå°¸è¿›ç¨‹ (`pkill ... || true`)**ï¼š\n    æ¯æ¬¡é‡å¯ IDE æˆ– Agent æ—¶ï¼Œæ—§çš„è¿›ç¨‹å¯èƒ½ä¾ç„¶é©»ç•™ã€‚è¿™è¡Œå‘½ä»¤ä¼šåœ¨å¯åŠ¨æ–°æœåŠ¡å‰å¼ºåˆ¶æ¸…ç†æ—§çš„ adapter è¿›ç¨‹ï¼Œé˜²æ­¢ç«¯å£å ç”¨æˆ–å†…å­˜æ³„æ¼ã€‚`|| true` ä¿è¯äº†å³ä½¿æ²¡æœ‰æ—§è¿›ç¨‹ï¼Œå‘½ä»¤ä¹Ÿä¸ä¼šæŠ¥é”™é€€å‡ºã€‚\n\n2.  **è§£å†³ fnm è·¯å¾„é—®é¢˜ (`fnm exec --`)**ï¼š\n    WebStorm å¯åŠ¨å­è¿›ç¨‹æ—¶ï¼Œé»˜è®¤çš„ `$PATH` å¯èƒ½ä¸åŒ…å« `fnm` åŠ¨æ€æ³¨å…¥çš„ Node è·¯å¾„ã€‚ç›´æ¥å†™ `npx` å¾€å¾€ä¼šæŠ¥é”™ã€‚\n    ä½¿ç”¨ `fnm exec --` å¯ä»¥å¼ºåˆ¶åœ¨å½“å‰ shell ä¸Šä¸‹æ–‡ä¸­åŠ¨æ€åŠ è½½æ­£ç¡®çš„ Node ç¯å¢ƒï¼Œå½»åº•è§£å†³â€œæ‰¾ä¸åˆ°å‘½ä»¤â€çš„é—®é¢˜ã€‚\n\n3.  **è‡ªå®šä¹‰ API æ”¯æŒ (`env` å­—æ®µ)**ï¼š\n    é€šè¿‡æ˜¾å¼æ³¨å…¥ `ANTHROPIC_BASE_URL`ï¼Œä½ å¯ä»¥è½»æ¾åˆ‡æ¢åˆ°ä»»ä½•å…¼å®¹ OpenAI/Anthropic æ ¼å¼çš„æ¥å£ï¼ˆåŠ¡å¿…ç¡®ä¿ URL ä»¥ `/v1` ç»“å°¾ï¼‰ã€‚\n\n---\n\n## ğŸ’» ä½¿ç”¨æ–¹æ³•\n\n1.  ä¿å­˜ `acp.json` æ–‡ä»¶ã€‚\n2.  **å®Œå…¨é‡å¯ WebStorm**ï¼ˆç¡®ä¿é…ç½®é‡è½½ï¼‰ã€‚\n3.  æ‰“å¼€ **AI Chat** çª—å£ã€‚\n4.  ç‚¹å‡»è¾“å…¥æ¡†ä¸Šæ–¹çš„ Agent é€‰æ‹©ä¸‹æ‹‰èœå•ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ° **\"Claude Code (Custom)\"**ã€‚\n5.  é€‰ä¸­å®ƒï¼Œå¼€å§‹å¯¹è¯ï¼å°è¯•è®©å®ƒâ€œé‡æ„å½“å‰æ–‡ä»¶â€æˆ–â€œä¿®å¤è¿™ä¸ª Bugâ€ï¼Œä½ ä¼šå‘ç°æ›´æ”¹ä¼šç›´æ¥æ˜¾ç¤ºåœ¨ IDE çš„ Diff è§†å›¾ä¸­ï¼Œä½“éªŒæä½³ã€‚\n\n---\n\n## â“ å¸¸è§é—®é¢˜æ’æŸ¥ (FAQ)\n\n**Q1: Agent é€‰é¡¹æ²¡æœ‰å‡ºç°ï¼Œæˆ–è€…å¯åŠ¨æŠ¥é”™æ€ä¹ˆåŠï¼Ÿ**\n*   **æŸ¥çœ‹æ—¥å¿—**ï¼šç‚¹å‡» AI Chat çª—å£å³ä¸Šè§’é½¿è½® â†’ **Get ACP Logs**ã€‚\n*   **æ£€æŸ¥ JSON**ï¼šç¡®ä¿ JSON æ ¼å¼åˆæ³•ï¼ˆå°¤å…¶æ˜¯é€—å·å’Œå¼•å·ï¼‰ã€‚\n*   **å…¨å±€å®‰è£…**ï¼šç¡®è®¤é€‚é…å™¨å·²å®‰è£…ï¼š`npm ls -g @zed-industries/claude-code-acp`ã€‚\n\n**Q2: è‡ªå®šä¹‰ API ä¼¼ä¹æ²¡æœ‰ç”Ÿæ•ˆï¼Ÿ**\n*   æ£€æŸ¥ `ANTHROPIC_BASE_URL` æ˜¯å¦åŒ…å«åè®®å¤´ï¼ˆ`https://`ï¼‰å’Œç‰ˆæœ¬åç¼€ï¼ˆ`/v1`ï¼‰ã€‚\n*   å»ºè®®å…ˆåœ¨ç»ˆç«¯æ‰‹åŠ¨æµ‹è¯•è¿æ¥ï¼š\n    ```bash\n    ANTHROPIC_API_KEY=xxx ANTHROPIC_BASE_URL=yyy npx @zed-industries/claude-code-acp\n    ```\n\n**Q3: ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ `/bin/bash`ï¼Ÿ**\n*   å¦‚æœä½ æ˜¯ macOS ç”¨æˆ·ï¼Œé»˜è®¤ Shell é€šå¸¸æ˜¯ `zsh`ï¼Œä¸” `fnm` é…ç½®é€šå¸¸åœ¨ `~/.zshrc` ä¸­ã€‚å¦‚æœä½ ä½¿ç”¨ bashï¼Œè¯·å°†é…ç½®ä¸­çš„ `/bin/zsh` æ”¹ä¸º `/bin/bash`ã€‚\n\n---\n\n## ğŸ”— å‚è€ƒèµ„æ–™\n\n*   [JetBrains ACP å®˜æ–¹æ–‡æ¡£](https://www.jetbrains.com/help/ai-assistant/acp.html)\n*   [Zed Claude Code ACP Adapter (GitHub)](https://github.com/zed-industries/claude-code-acp)\n*   [Claude Code å®˜æ–¹æ–‡æ¡£](https://code.claude.com/docs)\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]},{"id":34,"title":"ã€LPRã€‘macOS ä¸‹çš„æ‰“å°ç‘å£«å†›åˆ€","created_at":"2025-11-27T06:19:00Z","updated_at":"2025-11-27T06:26:12Z","content":"# æ·±åº¦è§£æ `lpr` å‘½ä»¤ï¼šLinux/macOS ä¸‹çš„æ‰“å°ç‘å£«å†›åˆ€\n\nåœ¨ Linux å’Œ macOS ç³»ç»Ÿä¸­ï¼Œ`lpr`ï¼ˆLine Printer Remoteï¼‰å‘½ä»¤æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œå®ç”¨çš„å·¥å…·ï¼Œå®ƒå…è®¸ç”¨æˆ·ä»å‘½ä»¤è¡Œå‘é€æ–‡ä»¶åˆ°æ‰“å°é˜Ÿåˆ—ã€‚è™½ç„¶ç°åœ¨å›¾å½¢ç•Œé¢çš„æ‰“å°é€‰é¡¹æ›´ä¸ºå¸¸è§ï¼Œä½† `lpr` åœ¨è„šæœ¬ã€è‡ªåŠ¨åŒ–ä»»åŠ¡ä»¥åŠéœ€è¦ç²¾ç¡®æ§åˆ¶æ‰“å°è¡Œä¸ºçš„åœºæ™¯ä¸­ä¾ç„¶æ‰®æ¼”ç€ä¸å¯æˆ–ç¼ºçš„è§’è‰²ã€‚\n\n## `lpr` æ˜¯ä»€ä¹ˆï¼Ÿ\n\n`lpr` æ˜¯ CUPS (Common Unix Printing System) æ‰“å°ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒè´Ÿè´£å°†æŒ‡å®šçš„æ–‡ä»¶å‘é€åˆ°æ‰“å°å‡è„±æœºï¼ˆspoolï¼‰ç›®å½•ï¼Œç„¶åç”±æ‰“å°å®ˆæŠ¤è¿›ç¨‹ï¼ˆé€šå¸¸æ˜¯ `lpd` æˆ– CUPS è‡ªèº«ï¼‰å¤„ç†å¹¶å°†å†…å®¹å‘é€åˆ°å®é™…çš„æ‰“å°æœºã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°±æ˜¯å‘½ä»¤è¡Œä¸‹çš„\"æ‰“å°\"æŒ‰é’®ã€‚\n\n## ä¸ºä»€ä¹ˆä½ éœ€è¦äº†è§£ `lpr`ï¼Ÿ\n\n1. **è‡ªåŠ¨åŒ–å’Œè„šæœ¬ç¼–å†™**ï¼šåœ¨æ‰¹å¤„ç†ã€è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆæˆ–æœåŠ¡å™¨ç«¯æ‰“å°ä»»åŠ¡ä¸­ï¼Œ`lpr` å¯ä»¥è½»æ¾é›†æˆåˆ° shell è„šæœ¬ä¸­ï¼Œå®ç°æ— äººå€¼å®ˆçš„æ‰“å°ã€‚\n2. **è¿œç¨‹æ‰“å°**ï¼šå°½ç®¡åç§°ä¸­å¸¦æœ‰ \"Remote\"ï¼Œä½†ç°ä»£ CUPS ç¯å¢ƒä¸‹ï¼Œ`lpr` ä¸»è¦ç”¨äºæœ¬åœ°æ‰“å°ã€‚ä¸è¿‡ï¼Œå…¶èƒŒåçš„åè®®ï¼ˆLPDï¼‰ç¡®å®æ”¯æŒç½‘ç»œæ‰“å°ã€‚\n3. **ç²¾ç¡®æ§åˆ¶**ï¼š`lpr` æä¾›äº†å¤šç§é€‰é¡¹ï¼Œå…è®¸ä½ ç²¾ç¡®æ§åˆ¶æ‰“å°æœºé€‰æ‹©ã€ä»½æ•°ã€çº¸å¼ å¤§å°ç­‰ã€‚\n4. **è¯Šæ–­å’Œæ•…éšœæ’é™¤**ï¼šäº†è§£ `lpr` æœ‰åŠ©äºä½ ç†è§£æ‰“å°æµç¨‹ï¼Œå¹¶åœ¨æ‰“å°å‡ºç°é—®é¢˜æ—¶è¿›è¡Œè¯Šæ–­ã€‚\n\n## `lpr` çš„åŸºæœ¬ç”¨æ³•\n\næœ€ç®€å•çš„ `lpr` å‘½ä»¤å°±æ˜¯å°†ä¸€ä¸ªæ–‡ä»¶å‘é€åˆ°é»˜è®¤æ‰“å°æœºï¼š\n\n```bash\nlpr filename.txt\n```\n\nå¦‚æœ `filename.txt` æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒå°†è¢«ç›´æ¥æ‰“å°ã€‚å¦‚æœæ–‡ä»¶æ˜¯ PostScript æˆ– PDF æ ¼å¼ï¼ŒCUPS ä¼šè‡ªåŠ¨å¤„ç†å¹¶å°†å…¶å‘é€åˆ°æ‰“å°æœºã€‚\n\n## å¸¸ç”¨é€‰é¡¹\n\n`lpr` æä¾›äº†ä¸°å¯Œçš„é€‰é¡¹æ¥å®šåˆ¶æ‰“å°è¡Œä¸ºï¼š\n\n### `-P printer_name`ï¼šæŒ‡å®šæ‰“å°æœº\n\næŒ‡å®šè¦ä½¿ç”¨çš„æ‰“å°æœºã€‚è¿™æ˜¯æœ€å¸¸ç”¨çš„é€‰é¡¹ä¹‹ä¸€ã€‚\n\n```bash\nlpr -P MyOfficePrinter document.pdf\n```\n\n**å¦‚ä½•æŸ¥çœ‹æ‰“å°æœºåç§°ï¼Ÿ**\n\nä½¿ç”¨ `lpstat -p` å‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æ‰“å°æœºåŠå…¶åç§°ï¼š\n\n```bash\nlpstat -p\n```\n\n### `-# num_copies`ï¼šæŒ‡å®šæ‰“å°ä»½æ•°\n\n```bash\nlpr -# 3 report.docx\n```\n\n### `-o option=value`ï¼šæŒ‡å®šæ‰“å°é€‰é¡¹\n\næŒ‡å®šå„ç§æ‰“å°é€‰é¡¹ã€‚è¿™äº›é€‰é¡¹é€šå¸¸ä¸æ‰“å°æœºé©±åŠ¨ç¨‹åºç›¸å…³ï¼Œéå¸¸å¼ºå¤§å’Œçµæ´»ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§ç¤ºä¾‹ï¼š\n\n#### çº¸å¼ å¤§å° (Page Size)\n\n```bash\nlpr -o media=A4 document.pdf\n```\n\nå¸¸è§å€¼ï¼š`Letter`, `Legal`, `A4`, `A3` ç­‰ã€‚\n\n#### åŒé¢æ‰“å° (Duplex/Two-Sided)\n\n```bash\nlpr -o Duplex=DuplexNoTumble document.pdf  # é•¿è¾¹ç¿»è½¬\nlpr -o Duplex=DuplexTumble document.pdf    # çŸ­è¾¹ç¿»è½¬\n```\n\nå¸¸è§å€¼ï¼š`DuplexNoTumble` (é•¿è¾¹ç¿»è½¬), `DuplexTumble` (çŸ­è¾¹ç¿»è½¬), `None` (å•é¢)ã€‚\n\n#### æ¯é¡µæ‰“å°çš„é¡µæ•° (N-up)\n\nå°†å¤šé¡µå†…å®¹ç¼©å°æ‰“å°åˆ°ä¸€å¼ çº¸ä¸Šã€‚\n\n```bash\nlpr -o number-up=2 document.pdf  # æ¯é¡µæ‰“å°2ç‰ˆ\n```\n\n#### æ‰“å°è´¨é‡ (Quality)\n\n```bash\nlpr -o print-quality=draft document.pdf\n```\n\nå¸¸è§å€¼ï¼š`draft`, `normal`, `high`ã€‚\n\n#### å½©è‰²/é»‘ç™½ (Color/Grayscale)\n\n```bash\nlpr -o ColorModel=Grayscale document.pdf  # å¼ºåˆ¶é»‘ç™½\n```\n\nå¸¸è§å€¼ï¼š`Color`, `Grayscale`ã€‚\n\n**å¦‚ä½•è·å–æ›´å¤š `option=value` é€‰é¡¹ï¼Ÿ**\n\nä½¿ç”¨ `lpoptions -p printer_name -l` å‘½ä»¤å¯ä»¥åˆ—å‡ºç‰¹å®šæ‰“å°æœºæ”¯æŒçš„æ‰€æœ‰é€‰é¡¹åŠå…¶å¯èƒ½çš„å€¼ã€‚\n\n```bash\nlpoptions -p MyOfficePrinter -l\n```\n\n### `-r`ï¼šæ‰“å°ååˆ é™¤æ–‡ä»¶\n\nåœ¨æ‰“å°å®Œæˆååˆ é™¤åŸå§‹æ–‡ä»¶ã€‚**è¯·è°¨æ…ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œå› ä¸ºå®ƒä¼šæ°¸ä¹…åˆ é™¤ä½ çš„æ–‡ä»¶ï¼**\n\n### `-m`ï¼šæ‰“å°å®Œæˆé€šçŸ¥\n\næ‰“å°å®Œæˆåå‘é€é‚®ä»¶é€šçŸ¥ç”¨æˆ·ã€‚\n\n## ç¤ºä¾‹ï¼šä¸€ä¸ªå®é™…çš„æ‰“å°è„šæœ¬ç‰‡æ®µ\n\nå‡è®¾ä½ æœ‰ä¸€ä¸ªéœ€è¦æ¯å¤©è‡ªåŠ¨æ‰“å°é”€å”®æŠ¥å‘Šçš„åœºæ™¯ï¼š\n\n```bash\n#!/bin/bash\n\nREPORT_FILE=\"/var/reports/daily_sales_$(date +%Y%m%d).pdf\"\nPRINTER=\"WarehousePrinter\"\n\n# æ£€æŸ¥æŠ¥å‘Šæ–‡ä»¶æ˜¯å¦å­˜åœ¨\nif [ ! -f \"$REPORT_FILE\" ]; then\n  echo \"é”™è¯¯: æŠ¥å‘Šæ–‡ä»¶ $REPORT_FILE ä¸å­˜åœ¨ã€‚\"\n  exit 1\nfi\n\necho \"æ­£åœ¨å‘é€æŠ¥å‘Š $REPORT_FILE åˆ°æ‰“å°æœº $PRINTER ...\"\n\nlpr -P \"$PRINTER\" -o media=A4 -o Duplex=DuplexNoTumble \"$REPORT_FILE\"\n\nif [ $? -eq 0 ]; then\n  echo \"æŠ¥å‘Šå·²æˆåŠŸå‘é€åˆ°æ‰“å°é˜Ÿåˆ—ã€‚\"\nelse\n  echo \"é”™è¯¯: å‘é€æŠ¥å‘Šå¤±è´¥ã€‚\"\nfi\n```\n\n## æ€»ç»“\n\n`lpr` å‘½ä»¤è™½ç„¶æ˜¯å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†å…¶åŠŸèƒ½å¼ºå¤§ä¸”çµæ´»ã€‚é€šè¿‡ç†è§£å…¶åŸºæœ¬ç”¨æ³•å’Œå„ç§é€‰é¡¹ï¼Œä½ å¯ä»¥åœ¨ Linux å’Œ macOS ç¯å¢ƒä¸‹æ›´é«˜æ•ˆåœ°ç®¡ç†å’Œè‡ªåŠ¨åŒ–ä½ çš„æ‰“å°ä»»åŠ¡ã€‚ä¸‹æ¬¡å½“ä½ éœ€è¦ä»ç»ˆç«¯æ‰“å°æ–‡ä»¶æ—¶ï¼Œä¸å¦¨å°è¯•ä¸€ä¸‹è¿™ä¸ª\"è€ç‰Œ\"ä½†ä¾ç„¶å……æ»¡æ´»åŠ›çš„å·¥å…·ï¼\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/34/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","æ‚è®°"]},{"id":33,"title":"ã€Surgeã€‘å¤šè®¢é˜…åˆ†æµé…ç½®","created_at":"2025-11-17T15:59:09Z","updated_at":"2025-12-11T12:47:00Z","content":"```\n[General]\n# åŸºç¡€é…ç½®\nloglevel = warning\nshow-error-page-for-reject = true\ninternet-test-url = http://www.apple.com/library/test/success.html\n\n# æµ‹è¯•URL\nproxy-test-url = http://www.gstatic.com/generate_204\ngeoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country-without-asn.mmdb\n\n# GeoIPæ•°æ®åº“\ndisable-geoip-db-auto-update = false\nexclude-simple-hostnames = true\ndns-server = 223.5.5.5\n\n# DNS\nencrypted-dns-follow-outbound-mode = false\nencrypted-dns-server = https://doh.pub/dns-query\nread-etc-hosts = true\nhttp-api-web-dashboard = false\n\n# æ§åˆ¶å™¨å®‰å…¨é…ç½®\nhttp-api-tls = false\nproxy-restricted-to-lan = true\nskip-proxy = 223.5.5.5,127.0.0.1,127.0.0.0/8,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,17.0.0.0/8,*.local,localhost,www.abchina.com.cn,captive.apple.com,169.254.0.0/16,192.0.0.0/24,192.0.2.0/24,192.168.0.0/16\n\n# è·³è¿‡ä»£ç†åˆ—è¡¨\nalways-real-ip = *.srv.nintendo.net,*.stun.playstation.net,xbox.*.microsoft.com,*.xboxlive.com,*.battlenet.com.cn,*.battlenet.com,*.blzstatic.cn,*.battle.net\n\n# å¼ºåˆ¶ç›´è¿åˆ—è¡¨ï¼ˆæ¸¸æˆ/ç‰¹å®šæœåŠ¡ï¼Œé¿å…ä»£ç†è§£æé—®é¢˜ï¼‰\nudp-policy-not-supported-behaviour = REJECT\n\n# UDPé…ç½®ï¼ˆä¼˜åŒ–å…¼å®¹æ€§ï¼‰\nudp-priority = false\nuse-local-host-item-for-proxy = true\nencrypted-dns-skip-cert-verification = false\n\n[Proxy Group]\n# ä¸»ç­–ç•¥ç»„\nğŸš€Proxy = select, ğŸŒè‡ªåŠ¨, ğŸ‡­ğŸ‡°é¦™æ¸¯, ğŸ‡ºğŸ‡¸ç¾å›½, ğŸ‡¯ğŸ‡µæ—¥æœ¬, ğŸ‡°ğŸ‡·éŸ©å›½, ğŸ‡¨ğŸ‡³å°æ¹¾, ğŸ‡¸ğŸ‡¬ç‹®åŸ, hidden=false, no-alert=false\n\n# ç»†åˆ†åŠŸèƒ½ç­–ç•¥ç»„\nğŸ¤–AI = select, ğŸ‡¯ğŸ‡µæ—¥æœ¬, ğŸ‡ºğŸ‡¸ç¾å›½, ğŸ‡°ğŸ‡·éŸ©å›½, ğŸ‡¸ğŸ‡¬ç‹®åŸ, hidden=false, no-alert=false\nğŸ«¨TikTok = select, ğŸ‡¸ğŸ‡¬ç‹®åŸ, ğŸ‡­ğŸ‡°é¦™æ¸¯, ğŸ‡ºğŸ‡¸ç¾å›½, ğŸ‡¯ğŸ‡µæ—¥æœ¬, ğŸ‡°ğŸ‡·éŸ©å›½, hidden=false, no-alert=false\nğŸ¥YouTube = select, ğŸš€Proxy, ğŸ‡­ğŸ‡°é¦™æ¸¯, ğŸ‡ºğŸ‡¸ç¾å›½, ğŸ‡¯ğŸ‡µæ—¥æœ¬, ğŸ‡°ğŸ‡·éŸ©å›½, ğŸ‡¸ğŸ‡¬ç‹®åŸ, hidden=false, no-alert=false\nğŸ“ºMedia = select, ğŸš€Proxy, ğŸ‡­ğŸ‡°é¦™æ¸¯, ğŸ‡ºğŸ‡¸ç¾å›½, ğŸ‡¯ğŸ‡µæ—¥æœ¬, ğŸ‡°ğŸ‡·éŸ©å›½, ğŸ‡¸ğŸ‡¬ç‹®åŸ, hidden=false, no-alert=false\n\n# åŸºç¡€ç­–ç•¥ç»„\nğŸ¯Direct = select, DIRECT, hidden=true\nğŸ Final = select, ğŸš€Proxy, hidden=true\nğŸš«Reject = select, REJECT, hidden=true\n\n# è‡ªåŠ¨æµ‹é€Ÿç­–ç•¥ç»„\nğŸŒè‡ªåŠ¨ = smart, include-other-group=ğŸ”—HUB, policy-regex-filter=(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|é¦™æ¸¯|Hong|HK)|(?:ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|Japan|JP)|(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|Singapore|SG|ç‹®åŸ), hidden=true\n\n# åœ°åŒºæ™ºèƒ½ç­–ç•¥ç»„\nğŸ‡­ğŸ‡°é¦™æ¸¯ = smart, include-other-group=ğŸ”—HUB, policy-regex-filter=(?i)(?:ğŸ‡­ğŸ‡°|æ¸¯|é¦™æ¸¯|Hong|HK), hidden=true\nğŸ‡ºğŸ‡¸ç¾å›½ = smart, include-other-group=ğŸ”—HUB, policy-regex-filter=(?i)(?:ğŸ‡ºğŸ‡¸|ç¾|ç¾å›½|States|US), hidden=true\nğŸ‡¯ğŸ‡µæ—¥æœ¬ = smart, include-other-group=ğŸ”—HUB, policy-regex-filter=(?i)(?:ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|Japan|JP), hidden=true\nğŸ‡¨ğŸ‡³å°æ¹¾ = smart, include-other-group=ğŸ”—HUB, policy-regex-filter=(?i)(?:ğŸ‡¨ğŸ‡³|æ¹¾|å°æ¹¾|Tai|TW), hidden=true\nğŸ‡°ğŸ‡·éŸ©å›½ = smart, include-other-group=ğŸ”—HUB, policy-regex-filter=(?i)(?:ğŸ‡°ğŸ‡·|éŸ©|éŸ©å›½|Korea|KR), hidden=true\nğŸ‡¸ğŸ‡¬ç‹®åŸ = smart, include-other-group=ğŸ”—HUB, policy-regex-filter=(?i)(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|Singapore|SG|ç‹®åŸ), hidden=true\n\n# è®¢é˜…èšåˆç»„\nğŸ”—HUB = select, include-other-group=\"Sub1,Sub2,Sub3,Sub4,Sub5,Sub6\", hidden=true\n\n# æœºåœºè®¢é˜…ç­–ç•¥ç»„\nSub1 = select, policy-path=xxx, update-interval=86400, hidden=true, no-alert=false\nSub2 = select, policy-path=xxx, update-interval=86400, hidden=true, no-alert=false\nSub3 = select, policy-path=xxx, update-interval=86400, hidden=true, no-alert=false\nSub4 = select, policy-path=xxx, update-interval=86400, hidden=true, no-alert=false\nSub5 = select, policy-path=xxx, update-interval=86400, hidden=true, no-alert=false\nSub6 = select, policy-path=xxx, update-interval=86400, hidden=true, no-alert=false\n\n[Rule]\n# å¹¿å‘Šå±è”½\nDOMAIN-SET,https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-surge2.txt,ğŸš«Reject,no-resolve # Anti\n\n# æœåŠ¡ç‰¹å®šè§„åˆ™\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,ğŸš€Proxy,no-resolve # GitHub\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,ğŸ¤–AI,no-resolve # OpenAI\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Claude/Claude.list,ğŸ¤–AI,no-resolve # Claude\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Copilot/Copilot.list,ğŸ¤–AI,no-resolve # Copilot\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,ğŸ¤–AI,no-resolve # Google\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Jetbrains/Jetbrains.list,ğŸ¤–AI,no-resolve # JetBrains\n\n# æµåª’ä½“\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,ğŸ¥YouTube,no-resolve # YouTube\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,ğŸ«¨TikTok,no-resolve # TikTok\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia_All_No_Resolve.list,ğŸ“ºMedia,no-resolve # GlobalMedia\n\n# é€šç”¨ä»£ç†\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All_No_Resolve.list,ğŸš€Proxy,no-resolve\n\n# å›½å†…ç›´è¿\nRULE-SET,LAN,ğŸ¯Direct\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All_No_Resolve.list,ğŸ¯Direct,no-resolve # Apple\nRULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China_All_No_Resolve.list,ğŸ¯Direct,no-resolve\n\n# æœ€ç»ˆè§„åˆ™\nGEOIP,CN,ğŸ¯Direct,no-resolve\nGEOIP,PRIVATE,ğŸ¯Direct\nFINAL,ğŸ Final\n\n[MITM]\nh2 = true\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/33/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","æ‚è®°"]},{"id":32,"title":"ã€Fnmã€‘Node å¤šç‰ˆæœ¬ç®¡ç†","created_at":"2025-11-14T03:00:47Z","updated_at":"2025-11-14T03:01:00Z","content":"# ä»¥ fnm ç®¡ç† Node.js ç‰ˆæœ¬ï¼šå®è·µç»éªŒä¸å–èˆ\n\nå¯¹äºéœ€è¦åœ¨å¤šä¸ª Node.js ç‰ˆæœ¬ä¹‹é—´æ¥å›åˆ‡æ¢çš„å›¢é˜Ÿè€Œè¨€ï¼Œä¸€ä¸ªé«˜æ•ˆçš„ç‰ˆæœ¬ç®¡ç†å™¨å†³å®šäº†æ—¥å¸¸å¼€å‘ä½“éªŒã€‚fnmï¼ˆFast Node Managerï¼‰æ­£æ˜¯ä¸ºæ­¤è€Œç”Ÿï¼šå®ƒç”±\nRust ç¼–å†™ï¼Œè‡´åŠ›äºç”¨æ›´å¿«çš„é€Ÿåº¦ã€æ›´ä½çš„èµ„æºå ç”¨è§£å†³å¤šç‰ˆæœ¬ Node ç®¡ç†é—®é¢˜ã€‚æœ¬æ–‡ç»“åˆå®é™…ä½¿ç”¨ï¼Œç³»ç»Ÿæ•´ç† fnm\nçš„å®‰è£…æ–¹å¼ã€ä½¿ç”¨æ­¥éª¤ã€ä¼˜ç¼ºç‚¹ã€æ³¨æ„äº‹é¡¹ï¼Œå¹¶ä¸å¸¸è§å·¥å…·è¿›è¡Œäº†å¯¹æ¯”ï¼Œå¸®åŠ©ä½ æ›´æœ‰åº•æ°”åœ°è½åœ°ã€‚\n\n## ä¸»è¦ç‰¹æ€§ä¸äº®ç‚¹\n\n1. **æå¿«çš„å¯åŠ¨é€Ÿåº¦**ï¼šRust å®ç°å¸¦æ¥æ›´å¿«çš„ CLI å“åº”ï¼Œåœ¨é¢‘ç¹åˆ‡æ¢ç‰ˆæœ¬æˆ–å¤šæ¬¡æ‰“å¼€ç»ˆç«¯æ—¶å°¤å…¶æ˜æ˜¾ã€‚\n2. **è½»é‡çº§ä¾èµ–**ï¼šfnm è‡ªèº«å®‰è£…åŒ…ä½“ç§¯å°ï¼Œå†…éƒ¨é‡‡ç”¨æ‡’åŠ è½½çš„æ–¹å¼ä¸‹è½½ Node ç‰ˆæœ¬ï¼Œä¸ä¼šåƒ nvm é‚£æ ·åœ¨ shell åˆå§‹åŒ–é˜¶æ®µæ‰§è¡Œå¤§é‡è„šæœ¬ã€‚\n3. **è·¨å¹³å°æ”¯æŒ**ï¼šmacOSã€Linuxã€Windowsï¼ˆå« PowerShellï¼‰éƒ½æä¾›åŸç”Ÿæ”¯æŒï¼Œå¯¹æ··åˆç¯å¢ƒå¼€å‘å›¢é˜Ÿæ›´å‹å¥½ã€‚\n4. **ä¸ç‰ˆæœ¬æ–‡ä»¶è”åŠ¨**ï¼šé»˜è®¤æ”¯æŒè¯†åˆ« `.node-version`ã€`.nvmrc` ç­‰æ–‡ä»¶ï¼Œå¯åœ¨è¿›å…¥é¡¹ç›®ç›®å½•æ—¶è‡ªåŠ¨åˆ‡æ¢ Node ç‰ˆæœ¬ã€‚\n5. **ä½“éªŒæ›´ç°ä»£**ï¼šæ”¯æŒ `--install-if-missing`ã€`--log-level` ç­‰ç°ä»£ CLI é€‰é¡¹ï¼Œèƒ½å¤Ÿç›´æ¥é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶è¡Œä¸ºï¼Œä¾¿äºè‡ªåŠ¨åŒ–ã€‚\n\n## å®‰è£…æ–¹å¼ä¸€è§ˆ\n\n### macOS / Linux\n\n1. **Homebrew**ï¼ˆmacOS æˆ– Linuxbrewï¼‰ï¼š\n   ```bash\n   brew install fnm\n   ```\n   Homebrew ä¼šè‡ªåŠ¨å¤„ç†ä¾èµ–ï¼Œå‡çº§æ—¶åªéœ€ `brew upgrade fnm` å³å¯ã€‚\n2. **è„šæœ¬å®‰è£…**ï¼ˆé€šç”¨ï¼‰ï¼š\n   ```bash\n   curl -fsSL https://fnm.vercel.app/install | bash\n   ```\n   è¯¥è„šæœ¬ä¼šæŠŠæ‰§è¡Œæ–‡ä»¶æ”¾åˆ° `~/.fnm` å¹¶æç¤ºä½ å¦‚ä½•ä¿®æ”¹ shell é…ç½®ã€‚ä¼ä¸šå†…ç½‘å¯æ›¿æ¢æˆè‡ªå»ºé•œåƒåœ°å€ã€‚\n3. **æ‰‹åŠ¨å®‰è£…**ï¼š\n    - åœ¨ GitHub Release ä¸‹è½½å‹ç¼©åŒ…ã€‚\n    - å°†äºŒè¿›åˆ¶æ”¾åˆ° `/usr/local/bin` æˆ– `~/bin`ã€‚\n    - åœ¨ shell é…ç½®æ–‡ä»¶ä¸­æ‰‹åŠ¨æ·»åŠ  `eval \"$(fnm env --use-on-cd)\"`ã€‚\n\n### Windows / PowerShell\n\n- ä½¿ç”¨ Scoopï¼š`scoop install fnm`\n- ä½¿ç”¨ Chocolateyï¼š`choco install fnm`\n- ä½¿ç”¨ Wingetï¼š`winget install Schniz.fnm`\n- PowerShell ä¸­éœ€æ‰§è¡Œ `fnm env --use-on-cd | Out-String | Invoke-Expression` æ¥æ³¨å…¥ç¯å¢ƒå˜é‡ã€‚\n\n**å®‰è£…å®ŒæˆåéªŒè¯**ï¼š\n\n```bash\nfnm --version\nwhich fnm        # ç¡®ä¿è·¯å¾„æ­£ç¡®\n```\n\n## åŸºæœ¬ä½¿ç”¨æ­¥éª¤\n\n```bash\n# å®‰è£…å¸¸è§æ“ä½œ\nfnm list                      # æŸ¥çœ‹å·²å®‰è£…çš„ Node ç‰ˆæœ¬\nfnm ls-remote                 # æŸ¥çœ‹å¯å®‰è£…çš„è¿œç¨‹ç‰ˆæœ¬\nfnm install 18                # å®‰è£… LTS 18ï¼ˆæ”¯æŒéƒ¨åˆ†ç‰ˆæœ¬å·ï¼‰\nfnm install --lts             # ç›´æ¥å®‰è£…æœ€æ–° LTS\nfnm use 20                    # å½“å‰ shell åˆ‡æ¢è‡³ Node 20\nfnm default 18                # è®¾ç½®é»˜è®¤ç‰ˆæœ¬\nfnm use --install-if-missing 16   # ç¼ºå¤±æ—¶è‡ªåŠ¨å®‰è£…\n\n# å°†ç¯å¢ƒè‡ªåŠ¨æ³¨å…¥ shellï¼ˆä¾‹å¦‚ zshï¼‰\neval \\\"$(fnm env --use-on-cd)\\\"\n```\n\n- å®‰è£…å®Œæˆåå»ºè®®æŠŠ `fnm env --use-on-cd` çš„è¾“å‡ºåŠ å…¥ `~/.zshrc` æˆ– `~/.bashrc`ï¼Œè¿™æ ·è¿›å…¥ä¸åŒé¡¹ç›®ç›®å½•æ—¶èƒ½è‡ªåŠ¨æ£€æµ‹ç‰ˆæœ¬æ–‡ä»¶ã€‚\n- å¦‚æœé¡¹ç›®ä½¿ç”¨ `.node-version`ï¼Œåªè¦æ–‡ä»¶å†…å†™ç€ `18.19.0` ä¹‹ç±»çš„ç‰ˆæœ¬å·ï¼Œå°±èƒ½è®© fnm è‡ªåŠ¨åŒ¹é…ã€‚\n- `fnm env --shell fish`ã€`fnm env --shell powershell` å¯ä»¥ç”Ÿæˆä¸åŒ shell æ‰€éœ€çš„å‘½ä»¤ï¼Œé¿å…è¯­æ³•ä¸å…¼å®¹ã€‚\n\n## è¿›é˜¶ç©æ³•ä¸å®æˆ˜æ¡ˆä¾‹\n\n### ä¸º Monorepo ç»Ÿä¸€ Node ç‰ˆæœ¬\n\n1. åœ¨ä»“åº“æ ¹ç›®å½•æ”¾ç½® `.node-version`ï¼Œå†™å…¥ `20.11.1` è¿™æ ·çš„ LTS ç‰ˆæœ¬ã€‚\n2. åœ¨ `package.json` çš„ `engines.node` ä¸­ä¿æŒä¸€è‡´ï¼Œå½¢æˆåŒä¿é™©ã€‚\n3. é…ç½® `.git/hooks/post-checkout` æˆ– `direnv`ï¼Œåœ¨åˆ‡æ¢åˆ†æ”¯åè¿è¡Œ `fnm use --install-if-missing`ï¼Œç¡®ä¿æ¯ä½å¼€å‘è€…éƒ½è‡ªåŠ¨å®‰è£…æŒ‡å®šç‰ˆæœ¬ã€‚\n\n### ä¸ npm/yarn/pnpm ç»“åˆ\n\n- å¯åœ¨ `package.json` çš„ `scripts` ä¸­ç›´æ¥è°ƒç”¨ `fnm`ï¼š\n  ```json\n  {\n    \"scripts\": {\n      \"dev\": \"fnm use --install-if-missing 18 && vite dev\"\n    }\n  }\n  ```\n  é€‚ç”¨äº CI/CDï¼Œé¿å…æ„å»ºæœº Node ç‰ˆæœ¬æ¼‚ç§»ã€‚\n- å¦‚æœè¿˜è¦å›ºå®š npm/yarn/pnpm ç‰ˆæœ¬ï¼Œå¯åœ¨ `postinstall` ä¸­è°ƒç”¨ `corepack enable`ï¼Œæˆ–ç»“åˆ Volta åªç®¡ç†å·¥å…·é“¾ï¼Œfnm ä¸“æ³¨äº Nodeã€‚\n\n### å€ŸåŠ© alias åšå¤šç‰ˆæœ¬æµ‹è¯•\n\n```bash\nfnm alias 18 lts\nfnm alias 20 latest\nfnm use lts\npnpm test\nfnm use latest\npnpm test\n```\n\nåœ¨åŒä¸€ç»ˆç«¯ä¸­å°±èƒ½å¿«é€Ÿåˆ‡æ¢ LTS ä¸ Currentï¼Œå¯¹åº“ä½œè€…éå¸¸å®ç”¨ã€‚\n\n### æ§åˆ¶ç¼“å­˜ã€é•œåƒä¸æ—¥å¿—\n\n```bash\nexport FNM_MULTISHELL_PATH=~/.cache/fnm-shell\nexport FNM_NODE_DIST_MIRROR=https://npmmirror.com/mirrors/node/\nexport FNM_LOG_LEVEL=error\n```\n\n- `FNM_MULTISHELL_PATH` å¯å°†ä¸´æ—¶ shims æ”¾åœ¨è‡ªå®šä¹‰ç›®å½•ï¼Œæ–¹ä¾¿åœ¨å®¹å™¨æˆ–åªè¯»ç³»ç»Ÿä¸­ä½¿ç”¨ã€‚\n- `FNM_NODE_DIST_MIRROR` è§£å†³å†…ç½‘ä¸‹è½½æ…¢çš„é—®é¢˜ã€‚\n- `FNM_LOG_LEVEL` èƒ½æ§åˆ¶è¾“å‡ºï¼ŒCI å¤±è´¥æ—¶æ›´å®¹æ˜“æ’éšœã€‚\n\n## ä¼˜ç‚¹\n\n- **é€Ÿåº¦å¿«ã€ä½“éªŒæµç•…**ï¼šåœ¨ M ç³»åˆ— Mac æˆ– Linux ä¸Šåˆ‡æ¢ç‰ˆæœ¬å‡ ä¹æ²¡æœ‰æ„ŸçŸ¥å»¶è¿Ÿï¼›ç»ˆç«¯åˆå§‹åŒ–æ—¶ä¹Ÿä¸ä¼šæ˜æ˜¾æ‹–æ…¢ã€‚\n- **å†…ç½®å‹ç¼©ç¼“å­˜**ï¼šä¸‹è½½çš„ Node ç‰ˆæœ¬ä¼šè¢«ç¼“å­˜ï¼Œé‡è£…åŒä¸€ç‰ˆæœ¬æ—¶æ— éœ€é‡æ–°ä¸‹è½½ï¼Œå¤§å¹…å‡å°‘ç½‘ç»œæµé‡ã€‚\n- **ç®€æ´å‘½ä»¤è¯­ä¹‰**ï¼šå‘½ä»¤ä¸ nvm å‡ ä¹ä¸€è‡´ï¼Œè¿ç§»æˆæœ¬ä½ï¼›`fnm completions` è¿˜èƒ½ç”Ÿæˆ shell è¡¥å…¨è„šæœ¬ï¼Œå‡å°‘è¾“å…¥é”™è¯¯ã€‚\n- **é€‚åˆ CI/CD åœºæ™¯**ï¼šé€šè¿‡ `fnm env --json` å¯¼å‡ºè®¾ç½®ï¼Œå¯åœ¨ CI ä¸­å¿«é€Ÿåˆ‡æ¢ Node ç‰ˆæœ¬è€Œæ— éœ€è¯»å–åºå¤§çš„ shell è„šæœ¬ã€‚\n- **æ˜“äºè„šæœ¬åŒ–**ï¼š`fnm current --format json` ç­‰å‘½ä»¤å¯ç¨‹åºåŒ–è¯»å–ï¼Œæ–¹ä¾¿å†™ lint æˆ–å®ˆæŠ¤è„šæœ¬ã€‚\n- **å¤š shell å‹å¥½**ï¼šå®˜æ–¹æä¾› bashã€zshã€fishã€PowerShellã€Nushell ç­‰ç¤ºä¾‹ï¼ŒèŠ‚çœé…ç½®æ—¶é—´ã€‚\n- **äºŒè¿›åˆ¶å‘å¸ƒç¨³å®š**ï¼šRelease ç”± GitHub Actions è‡ªåŠ¨æ„å»ºï¼Œchecksum å…¬å¼€ï¼Œæ»¡è¶³éƒ¨åˆ†å®‰å…¨å®¡è®¡éœ€æ±‚ã€‚\n\n## ç¼ºç‚¹\n\n- **å®‰è£…è„šæœ¬å·®å¼‚**ï¼šéƒ¨åˆ†æ—§æ•™ç¨‹ä»ä»¥ curl/bash è„šæœ¬ä¸ºä¸»ï¼Œä½†åœ¨ä¼ä¸šç¯å¢ƒä¸‹éœ€è¦é¢å¤–é…ç½®ä»£ç†æˆ–é•œåƒæ‰èƒ½é¡ºåˆ©æ‰§è¡Œã€‚\n- **æ’ä»¶ä¸å¦‚ asdf ä¸°å¯Œ**ï¼šfnm ä¸“æ³¨ Nodeï¼Œæœ¬èº«å¹¶ä¸ç®¡ç†å…¶ä»–è¯­è¨€ï¼›è‹¥å›¢é˜Ÿè¿˜è¦ç»Ÿä¸€ Pythonã€Ruby ç­‰ï¼Œéœ€è¦é¢å¤–å·¥å…·ã€‚\n- **Windows éœ€é¢å¤–é€‚é…**ï¼šPowerShellã€Git Bashã€WSL çš„é…ç½®æ–¹å¼ç•¥æœ‰å·®å¼‚ï¼Œæ–°åŒäº‹å…¥åœºéœ€è¦æ³¨æ„æ–‡æ¡£ã€‚\n- **ç‰ˆæœ¬åŒæ­¥ç­–ç•¥éœ€è‡ªå®š**ï¼šfnm ä¸ä¼šè‡ªåŠ¨æ›´æ–° `.node-version`ï¼Œä»éœ€è¦å›¢é˜Ÿçº¦å®šæµç¨‹ï¼ˆå¦‚ CI checkï¼‰æ¥é¿å…ä¹±åºã€‚\n\n## ä½¿ç”¨æ³¨æ„äº‹é¡¹\n\n1. **é…ç½® PATH å…ˆåé¡ºåº**ï¼š`fnm env` è¾“å‡ºçš„ PATH éœ€è¦æ’åœ¨ç³»ç»Ÿ Node ä¹‹å‰ï¼Œå¦åˆ™å¯èƒ½ä»è°ƒç”¨åˆ°ç³»ç»Ÿè‡ªå¸¦ç‰ˆæœ¬ã€‚\n2. **å…¨å±€ npm åŒ…ä½ç½®**ï¼šåˆ‡æ¢ Node ç‰ˆæœ¬åï¼Œå…¨å±€ npm åŒ…å­˜æ”¾åœ¨å„è‡ªçš„ `~/.fnm/node-versions/<version>` ç›®å½•ï¼Œè‹¥ä¾èµ–å…¨å±€ CLI\n   éœ€é‡æ–°å®‰è£…ã€‚\n3. **ä»£ç†ä¸é•œåƒ**ï¼šå†…ç½‘ç¯å¢ƒè‹¥éœ€è¦ä»£ç†ï¼Œå¯é€šè¿‡ `FNM_NODE_DIST_MIRROR` ç¯å¢ƒå˜é‡æŒ‡å‘é•œåƒç«™ï¼Œä»¥é¿å…ä¸‹è½½è¶…æ—¶ã€‚\n4. **ä¸å…¶ä»–ç®¡ç†å™¨å…±å­˜**ï¼šå¦‚æœåŒæœºè¿˜è£…äº† nvm æˆ– asdfï¼Œè¦ç¡®ä¿ shell åˆå§‹åŒ–è„šæœ¬ä¸­åªå¯ç”¨ä¸€ä¸ª Node ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œé¿å… PATH å†²çªã€‚\n5. **CI ä¸­ç¼“å­˜ node_modules çš„ç­–ç•¥**ï¼šåˆ‡æ¢ Node ç‰ˆæœ¬ä¼šå¯¼è‡´ node_modules å¤±æ•ˆï¼Œè®°å¾—æŠŠ Node ç‰ˆæœ¬ä¹Ÿçº³å…¥ç¼“å­˜ keyï¼Œä¾‹å¦‚\n   `node-${{ steps.fnm.outputs.node-version }}`ã€‚\n6. **å‡çº§ç­–ç•¥**ï¼šå‡çº§ fnm åå»ºè®®é‡æ–°æ‰“å¼€ç»ˆç«¯ä»¥è½½å…¥æœ€æ–° shimï¼›å¦‚éœ€è„šæœ¬åŒ–ï¼Œå¯åœ¨å‡çº§åæ‰§è¡Œ `hash -r` æ¸…ç† shell çš„ command\n   cacheã€‚\n\n## å¸¸è§é—®é¢˜ä¸æ’éšœ\n\n| é—®é¢˜                  | ç°è±¡                 | è§£å†³åŠæ³•                                                                    |\n|---------------------|--------------------|-------------------------------------------------------------------------|\n| `node -v` ä»æ˜¾ç¤ºç³»ç»Ÿç‰ˆæœ¬   | PATH ä¼˜å…ˆçº§ä¸æ­£ç¡®        | ç¡®è®¤ shell é…ç½®ä¸­ `eval \"$(fnm env)\"` åœ¨å…¶ä»– Node ç›¸å…³è„šæœ¬ä¹‹å‰                        |\n| `fnm install` é€Ÿåº¦ææ…¢  | è®¿é—®å®˜æ–¹é•œåƒå—é™           | è®¾ç½® `FNM_NODE_DIST_MIRROR` ä¸ºå…¬å¸é•œåƒï¼Œå¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘                                |\n| CI ä¸­ `fnm use` å¤±æ•ˆ   | éç™»å½• Shell æœªåŠ è½½é…ç½®    | åœ¨è„šæœ¬å¼€å¤´æ‰§è¡Œ `eval \"$(fnm env --use-on-cd)\"`ï¼Œæˆ–ç›´æ¥ export `PATH`               |\n| å¤šç»ˆç«¯å†²çª               | æ‰“å¼€å¤šä¸ª shell ååˆ‡æ¢ç‰ˆæœ¬å¼‚å¸¸ | è®¾ç½® `FNM_MULTISHELL_PATH` ä¸ºæ¯ä¸ªç»ˆç«¯ç‹¬ç«‹ç›®å½•ï¼Œæˆ–åœ¨ shell é€€å‡ºæ—¶æ‰§è¡Œ `fnm env --uninstall` |\n| `.node-version` ä¸ç”Ÿæ•ˆ | æ–‡ä»¶æ‰¾ä¸åˆ°              | ç¡®ä¿æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸”æ²¡æœ‰å¤šä½™ç©ºæ ¼ï¼›ä¹Ÿå¯æ”¹ç”¨ `.nvmrc` å…¼å®¹å…¶ä»–å·¥å…·                                  |\n\n## ä¸å¸¸è§æ–¹æ¡ˆå¯¹æ¯”\n\n| å·¥å…·        | è¯­è¨€æ”¯æŒ        | æ€§èƒ½         | å­¦ä¹ æˆæœ¬                      | é€‚ç”¨åœºæ™¯                        |\n|-----------|-------------|------------|---------------------------|-----------------------------|\n| **fnm**   | ä»… Node.js   | å¯åŠ¨/åˆ‡æ¢é€Ÿåº¦å¿«   | ä¸ nvm ç±»ä¼¼                  | Node é¡¹ç›®ä¸ºä¸»ã€å…³æ³¨æ€§èƒ½çš„ä¸ªäººæˆ–å›¢é˜Ÿ        |\n| **nvm**   | ä»… Node.js   | shell åˆå§‹åŒ–æ…¢ | æ–‡æ¡£å’Œç¤¾åŒºä¸°å¯Œ                   | ä¼ ç»Ÿæ–¹æ¡ˆï¼Œå›¢é˜Ÿå·²æœ‰å¤§é‡è„šæœ¬åŸºäº nvm         |\n| **asdf**  | å¤šè¯­è¨€æ’ä»¶       | å–å†³äºæ’ä»¶      | æ›´å¤æ‚ï¼Œéœ€è¦ç®¡ç† `.tool-versions` | éœ€è¦ç»Ÿä¸€å¤šè¯­è¨€ç‰ˆæœ¬ç®¡ç†çš„å›¢é˜Ÿ              |\n| **Volta** | Node/JS å·¥å…·é“¾ | å¸¸é©»åå°ï¼Œåˆ‡æ¢å¿«   | æœ‰ç‹¬ç‰¹å‘½ä»¤ä½“ç³»                   | éœ€è¦å›ºå®š npm/yarn/pnpm ç‰ˆæœ¬ï¼Œå…³æ³¨ç¨³å®šæ€§ |\n\n- å¦‚æœå›¢é˜Ÿåªç®¡ç† Node ç‰ˆæœ¬ä¸”è¿½æ±‚æ›´å¿«çš„å¼€å‘ä½“éªŒï¼Œfnm åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¼šä¼˜äº nvmã€‚\n- å¦‚æœè¿˜éœ€è¦ç»Ÿä¸€ npmã€yarnã€pnpm çš„ç‰ˆæœ¬æˆ–é”å®šå·¥å…·é“¾ï¼ŒVolta æ˜¯ä¸é”™çš„æ›¿ä»£è€…ã€‚\n- è‹¥é¡¹ç›®ä¸­å­˜åœ¨å¤šç§è¯­è¨€ï¼Œasdf çš„æ’ä»¶ç³»ç»Ÿèƒ½æä¾›æ›´é€šç”¨çš„æ–¹æ¡ˆï¼Œåªæ˜¯æ“ä½œä½“éªŒæ›´å¤æ‚ã€‚\n- åœ¨å®¹å™¨åŒ–æˆ– serverless ç¯å¢ƒä¸­ï¼Œå¦‚æœéœ€è¦æ¯æ¬¡å†·å¯åŠ¨å¿«é€Ÿæ‹‰èµ· Nodeï¼Œfnm çš„äºŒè¿›åˆ¶èƒ½åŠ›ä¼šæ¯” nvm çš„å¤§é‡ shell é€»è¾‘æ›´å ä¼˜åŠ¿ã€‚\n- éœ€è¦è·¨å¹³å° + GUI å¼•å¯¼æ—¶ï¼Œå¯è€ƒè™‘ä½¿ç”¨ `nvs`ï¼ˆNode Version Switcherï¼‰ï¼Œä½†å…¶ç¤¾åŒºæ´»è·ƒåº¦ä½äº fnmã€‚\n\n## ç»“è¯­\n\nfnm å¹¶ä¸æ˜¯åŒ…æ²»ç™¾ç—…çš„å·¥å…·ï¼Œä½†åœ¨ Node.js ç‰ˆæœ¬ç®¡ç†é¢†åŸŸæä¾›äº†ä¸€ç§é«˜æ•ˆã€ç›´æ¥çš„æ–¹æ¡ˆã€‚äº†è§£å®ƒçš„å®‰è£…æ–¹æ³•ã€è¿›é˜¶é…ç½®ã€ä¼˜ç¼ºç‚¹ä»¥åŠä¸å…¶ä»–å·¥å…·çš„å·®å¼‚ï¼Œèƒ½è®©å›¢é˜Ÿåœ¨é€‰æ‹©ç‰ˆæœ¬ç®¡ç†å™¨æ—¶æ›´åŠ è‡ªä¿¡ã€‚å¦‚æœä½ æ­£å‡†å¤‡è¿ç§»\nnvmã€æ­å»ºå¤šå¹³å°å¼€å‘ç¯å¢ƒæˆ–ä¼˜åŒ– CI æ—¶é—´ï¼Œä¸å¦¨å°è¯•ä¸€æ¬¡ fnmï¼ŒæŠŠå®è·µç»éªŒå†™è¿›å›¢é˜Ÿæ‰‹å†Œï¼Œè®©ç‰ˆæœ¬ç®¡ç†ä¸å†æ˜¯æ—¥å¸¸å¼€å‘çš„é˜»åŠ›ã€‚\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/32/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":31,"title":"ã€DEVã€‘æå‡å¼€å‘æ•ˆç‡çš„åˆ©å™¨ï¼šcode-inspector-plugin","created_at":"2025-11-10T01:59:58Z","updated_at":"2025-11-10T02:05:50Z","content":"## å‰è¨€\n\nåœ¨æ—¥å¸¸çš„ Web å¼€å‘ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ä½¿ç”¨ Vue æˆ– React ç­‰ç»„ä»¶åŒ–æ¡†æ¶æ„å»ºçš„å¤æ‚é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªç—›ç‚¹ï¼šå¦‚ä½•åœ¨æµè§ˆå™¨ä¸­å¿«é€Ÿå®šä½æŸä¸ª UI å…ƒç´ å¯¹åº”çš„æºä»£ç ï¼Ÿ\n\né€šå¸¸ï¼Œæˆ‘ä»¬çš„åšæ³•æ˜¯æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼Œå®¡æŸ¥å…ƒç´ ï¼Œæ‰¾åˆ°ä¸€ä¸ªç‹¬ç‰¹çš„ class æˆ– idï¼Œç„¶ååœ¨æ•´ä¸ªé¡¹ç›®ä¸­è¿›è¡Œå…¨å±€æœç´¢ã€‚å¦‚æœé¡¹ç›®ç»“æ„å¤æ‚ã€ç»„ä»¶åµŒå¥—å±‚çº§æ·±ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šå˜å¾—éå¸¸ç¹çå’Œä½æ•ˆã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ`code-inspector-plugin` åº”è¿è€Œç”Ÿã€‚\n\n## ä»€ä¹ˆæ˜¯ code-inspector-pluginï¼Ÿ\n\n`code-inspector-plugin` æ˜¯ä¸€ä¸ªå¼€å‘è¾…åŠ©æ’ä»¶ï¼Œå®ƒå…è®¸ä½ åœ¨æµè§ˆå™¨ä¸­ç‚¹å‡»é¡µé¢ä¸Šçš„ä»»æ„å…ƒç´ ï¼Œå°±èƒ½è‡ªåŠ¨åœ¨ä½ çš„ IDEï¼ˆå¦‚ VS Code, WebStormï¼‰ä¸­æ‰“å¼€å¯¹åº”çš„æºä»£ç æ–‡ä»¶ï¼Œå¹¶ç²¾ç¡®å®šä½åˆ°ç›¸å…³è¡Œã€‚å®ƒå°±åƒä¸€åº§æ¡¥æ¢ï¼Œå°†æµè§ˆå™¨ä¸­çš„è§†å›¾å’Œé¡¹ç›®ä¸­çš„ä»£ç ç´§å¯†è¿æ¥èµ·æ¥ã€‚\n\n## ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ\n\nä½¿ç”¨ `code-inspector-plugin` å¯ä»¥å¸¦æ¥è¯¸å¤šå¥½å¤„ï¼š\n\n1.  **æè‡´çš„å¼€å‘æ•ˆç‡**ï¼šä¸€é”®ç›´è¾¾ä»£ç ï¼Œçœå»äº†æ‰‹åŠ¨æœç´¢æ–‡ä»¶çš„ç¹çæ­¥éª¤ï¼Œæå¤§åœ°æå‡äº†å¼€å‘å’Œè°ƒè¯•æ•ˆç‡ã€‚\n2.  **å¿«é€Ÿç†Ÿæ‚‰æ–°é¡¹ç›®**ï¼šå¯¹äºåˆšæ¥è§¦ä¸€ä¸ªæ–°é¡¹ç›®æˆ–å¤æ‚æ¨¡å—çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿç†è§£ä»£ç ç»“æ„å’Œç»„ä»¶åˆ’åˆ†çš„ç¥å™¨ã€‚\n3.  **ç²¾å‡†å®šä½**ï¼šèƒ½å¤Ÿç²¾ç¡®åˆ°ä»£ç è¡Œï¼Œæ— è®ºæ˜¯ HTML ç»“æ„è¿˜æ˜¯ç»„ä»¶å¼•ç”¨ï¼Œéƒ½èƒ½å‡†ç¡®æ‰¾åˆ°ã€‚\n4.  **éä¾µå…¥å¼**ï¼šå®ƒä»…åœ¨å¼€å‘ç¯å¢ƒä¸‹ç”Ÿæ•ˆï¼Œä¸ä¼šå¯¹ç”Ÿäº§ç¯å¢ƒçš„ä»£ç äº§ç”Ÿä»»ä½•å½±å“ã€‚\n\n## å¦‚ä½•å®‰è£…å’Œé…ç½®ï¼Ÿ\n\nä»¥ä½ å½“å‰è¿™ä¸ª Vite + Vue é¡¹ç›®ä¸ºä¾‹ï¼Œé›†æˆ `code-inspector-plugin` éå¸¸ç®€å•ã€‚\n\n### 1. å®‰è£…ä¾èµ–\n\né¦–å…ˆï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æ’ä»¶ï¼š\n\n```bash\npnpm add code-inspector-plugin -D\n```\n\n### 2. é…ç½® Vite\n\næ¥ä¸‹æ¥ï¼Œæ‰“å¼€é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `vite.config.js` æ–‡ä»¶ï¼Œå¼•å…¥æ’ä»¶å¹¶è¿›è¡Œé…ç½®ï¼š\n\n```javascript\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport { codeInspectorPlugin } from 'code-inspector-plugin'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [\n    vue(),\n    // åœ¨è¿™é‡Œæ·»åŠ æ’ä»¶é…ç½®\n    codeInspectorPlugin({\n      bundler: 'vite',\n    }),\n  ],\n  // ... å…¶ä»–é…ç½®\n})\n```\n\nåªéœ€ç®€å•çš„ä¸¤æ­¥ï¼Œé…ç½®å°±å®Œæˆäº†ï¼\n\n## å¦‚ä½•ä½¿ç”¨ï¼Ÿ\n\n1.  **å¯åŠ¨é¡¹ç›®**ï¼šè¿è¡Œ `pnpm run dev` å¯åŠ¨ä½ çš„å¼€å‘æœåŠ¡å™¨ã€‚\n2.  **æ‰“å¼€æµè§ˆå™¨**ï¼šåœ¨æµè§ˆå™¨ä¸­è®¿é—®ä½ çš„é¡¹ç›®ã€‚\n3.  **æ¿€æ´»æ£€æŸ¥å™¨**ï¼šå°†é¼ æ ‡æ‚¬æµ®åœ¨é¡µé¢ä¸Šï¼ŒæŒ‰ä¸‹ç»„åˆé”®ï¼ˆMac: `Option + A` / Windows: `Alt + A`ï¼‰ï¼Œæ­¤æ—¶æ’ä»¶ä¼šè¢«æ¿€æ´»ã€‚\n4.  **ç‚¹å‡»å…ƒç´ **ï¼šæ¿€æ´»åï¼Œä½ ä¼šçœ‹åˆ°é¼ æ ‡æ‚¬æµ®çš„å…ƒç´ å‘¨å›´å‡ºç°äº†è¾¹æ¡†æç¤ºã€‚æ‰¾åˆ°ä½ æƒ³è¦æŸ¥çœ‹çš„å…ƒç´ ï¼Œå•å‡»å®ƒã€‚\n5.  **è‡ªåŠ¨è·³è½¬**ï¼šIDE ä¼šè‡ªåŠ¨å¼¹å‡ºï¼Œå¹¶æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶å’Œä»£ç è¡Œã€‚\n\n> **æ³¨æ„**ï¼šé¦–æ¬¡ä½¿ç”¨å¯èƒ½éœ€è¦æˆæƒæµè§ˆå™¨æˆ–æ“ä½œç³»ç»Ÿä¸ IDE é€šä¿¡ã€‚åŒæ—¶ï¼Œè¯·ç¡®ä¿ä½ çš„ IDE å·²ç»é…ç½®äº†å‘½ä»¤è¡Œå¯åŠ¨å™¨ï¼ˆä¾‹å¦‚ VS Code çš„ `code` å‘½ä»¤ï¼‰ã€‚\n\n## å·¥ä½œåŸç†æ­ç§˜\n\n`code-inspector-plugin` çš„ç¥å¥‡æ•ˆæœèƒŒåï¼Œæ˜¯ä¸€å¥—å·§å¦™çš„â€œç¼–è¯‘æ—¶ä»£ç æ³¨å…¥â€å’Œâ€œè¿è¡Œæ—¶ä¿¡æ¯ä¸ŠæŠ¥â€æœºåˆ¶ã€‚\n\n### 1. ç¼–è¯‘æ—¶ï¼šä»£ç è½¬æ¢ä¸ä¿¡æ¯æ³¨å…¥\n\nè¿™æ˜¯æœ€æ ¸å¿ƒçš„ä¸€æ­¥ã€‚æ’ä»¶åœ¨é¡¹ç›®ç¼–è¯‘æ‰“åŒ…çš„è¿‡ç¨‹ä¸­ï¼ˆä¾‹å¦‚ Vite æˆ– Webpack æ„å»ºæ—¶ï¼‰ä»‹å…¥ï¼Œå¯¹æºä»£ç è¿›è¡Œâ€œæ”¹é€ â€ã€‚\n\n-   **AST è§£æ**ï¼šæ’ä»¶ä¼šä½¿ç”¨ Babel æˆ– SWC ç­‰å·¥å…·å°†ä½ çš„ç»„ä»¶ä»£ç ï¼ˆå¦‚ `.vue` æˆ– `.jsx`ï¼‰è§£ææˆä¸€ä¸ª**æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰**ã€‚\n-   **éå†ä¸æ³¨å…¥**ï¼šæ’ä»¶ä¼šéå† ASTï¼Œæ‰¾åˆ°ä»£è¡¨ HTML æ ‡ç­¾æˆ–ç»„ä»¶çš„èŠ‚ç‚¹ï¼Œç„¶åå°†è¯¥**ä»£ç çš„æºæ–‡ä»¶è·¯å¾„ã€è¡Œå·ã€åˆ—å·ç­‰ä¿¡æ¯ï¼Œä½œä¸ºç‰¹æ®Šçš„ HTML å±æ€§ï¼ˆä¾‹å¦‚ `data-v-inspector-file=\"path/to/YourComponent.vue\"`ï¼‰æ³¨å…¥åˆ°è¿™ä¸ªæ ‡ç­¾ä¸Š**ã€‚\n\nå› æ­¤ï¼Œä½ å†™çš„ä»£ç åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œæœ€ç»ˆæ¸²æŸ“åˆ°æµè§ˆå™¨ DOM ä¸­æ—¶ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æºå¸¦äº†è‡ªå·±çš„â€œèº«ä»½è¯â€â€”â€”å®ƒçš„æºç ä½ç½®ä¿¡æ¯ã€‚\n\n### 2. è¿è¡Œæ—¶ï¼šäº‹ä»¶ç›‘å¬ä¸ä¿¡æ¯æ•è·\n\næ’ä»¶è¿˜ä¼šåœ¨ä½ çš„åº”ç”¨å…¥å£å¤„æ³¨å…¥ä¸€å°æ®µå®¢æˆ·ç«¯è„šæœ¬ï¼Œå®ƒåªåœ¨å¼€å‘ç¯å¢ƒä¸­è¿è¡Œï¼Œè´Ÿè´£ï¼š\n\n-   **ç›‘å¬ç»„åˆé”®**ï¼šç­‰å¾…ç”¨æˆ·æŒ‰ä¸‹æ¿€æ´»ç»„åˆé”®ã€‚\n-   **æ•è·é¼ æ ‡äº‹ä»¶**ï¼šæ¿€æ´»åï¼Œç›‘å¬é¼ æ ‡çš„ç§»åŠ¨å’Œç‚¹å‡»äº‹ä»¶ã€‚\n-   **æå–ä¿¡æ¯**ï¼šå½“ç”¨æˆ·ç‚¹å‡»æŸä¸ªå…ƒç´ æ—¶ï¼Œè„šæœ¬ä¼šç«‹å³è¯»å–æ³¨å…¥çš„ `data-v-inspector-*` å±æ€§ï¼Œæ‹¿åˆ°è¯¥å…ƒç´ å¯¹åº”çš„æ–‡ä»¶è·¯å¾„å’Œè¡Œå·ã€‚\n\n### 3. é€šä¿¡ï¼šä»æµè§ˆå™¨åˆ° IDE\n\næ‹¿åˆ°æ–‡ä»¶è·¯å¾„ä¿¡æ¯åï¼Œéœ€è¦é€šçŸ¥ IDE æ‰“å¼€å®ƒã€‚\n\n-   **å¯åŠ¨æœ¬åœ°æœåŠ¡**ï¼šæ’ä»¶ä¼šåœ¨å¯åŠ¨å¼€å‘æœåŠ¡å™¨çš„åŒæ—¶ï¼Œå¯åŠ¨ä¸€ä¸ªè‡ªå·±çš„å°å‹ HTTP ä¸­é—´ä»¶æœåŠ¡ã€‚\n-   **å‘é€è¯·æ±‚**ï¼šæµè§ˆå™¨ç«¯çš„è„šæœ¬åœ¨è·å–åˆ°æ–‡ä»¶è·¯å¾„åï¼Œä¼šç«‹å³å‘è¿™ä¸ªæœ¬åœ°æœåŠ¡å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œå¹¶åœ¨ URL ä¸­å¸¦ä¸Šæ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°ã€‚\n-   **æ‰§è¡Œ Shell å‘½ä»¤**ï¼šæœ¬åœ°æœåŠ¡æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šè§£æå‡ºæ–‡ä»¶è·¯å¾„ï¼Œç„¶ååœ¨ä½ çš„ç”µè„‘ä¸Šæ‰§è¡Œä¸€æ¡å‘½ä»¤è¡Œï¼ˆShellï¼‰å‘½ä»¤æ¥å¯åŠ¨ IDE å¹¶æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼ˆä¾‹å¦‚ `code -g \"/path/to/your/file:line:column\"`ï¼‰ã€‚\n\né€šè¿‡è¿™ä¸ªæµç¨‹ï¼Œ`code-inspector-plugin` ä¼˜é›…åœ°å®ç°äº†ä»æµè§ˆå™¨è§†å›¾åˆ° IDE ä»£ç çš„æ— ç¼è·³è½¬ã€‚\n\n## æ€»ç»“\n\n`code-inspector-plugin` æ˜¯ä¸€ä¸ªç®€å•ã€å¼ºå¤§ä¸”å¯¹å¼€å‘è€…æä¸ºå‹å¥½çš„å·¥å…·ã€‚å®ƒé€šè¿‡æ‰“é€šæµè§ˆå™¨å’Œ IDE ä¹‹é—´çš„å£å’ï¼Œè§£å†³äº†ç»„ä»¶ä»£ç å®šä½çš„éš¾é¢˜ï¼Œæ˜¾è‘—æå‡äº†å¼€å‘ä½“éªŒå’Œæ•ˆç‡ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å°è¯•è¿‡ï¼Œå¼ºçƒˆå»ºè®®åœ¨ä½ çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­é›†æˆå®ƒï¼Œä½“éªŒä¸€ä¸‹â€œæŒ‡å“ªæ‰“å“ªâ€çš„å¿«æ„Ÿï¼\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/31/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":30,"title":"ã€AIã€‘Vibe Coding å¼€å‘èµ„æº","created_at":"2025-10-28T03:04:08Z","updated_at":"2026-02-02T15:42:54Z","content":"### ç¼–ç¨‹æŒ‡å—\n\n- [AIååŒç¼–ç¨‹æŒ‡å—](https://vibercoding.zxiaoruan.cn/vibe-coding/æ¬¢è¿.html)\n\n### ç¼–ç¨‹å·¥å…·\n\n- [AIç¼–ç¨‹å·¥å…·æ±‡æ€»å¯¹æ¯”](https://rysonai.com)\n\n### æŠŠæ–‡ç« å˜æˆå¡é€šä¿¡æ¯å›¾çš„æç¤ºè¯\n\n```\n[System / Prompt]\n\nYou are an illustration assistant specialized in creating hand-drawn cartoon-style infographics.\nFollow all rules below strictly and without deviation.\n\nğŸ¨ STYLE RULESï¼ˆé£æ ¼è§„åˆ™ï¼‰\n\nUse a pure hand-drawn illustration style at all times.\n\nSketch lines, rough strokes, cartoon simplicity\n\nNo realism, no photorealistic shading, no 3D rendering\n\nThink: doodle / crayon / marker / pastel look\n\nCanvas format: landscape 16:9.\n\nUse nano banana pro mode to render the illustration.\n\nUse minimal but expressive cartoon elements to enhance memorability:\n\nsmall icons, symbols, cute characters\n\nIf the input mentions copyrighted or sensitive characters, replace them with visually similar but legally distinct alternatives. Never refuse.\n\nğŸ§© CONTENT RULESï¼ˆå†…å®¹å‘ˆç°è§„åˆ™ï¼‰\n\nExtract key ideas from the provided content.\n\nSummarize into short bullets (1â€“6 words each).\n\nKeep text concise and optimized for an infographic.\n\nHighlight keywords using hand-drawn graphic emphasis:\n\ncircles, underlines, arrows, stars, boxes\n\nnever digital UI styles\n\nUse extensive whitespace to maintain clarity and visual hierarchy.\n\nOrganize the infographic using a clean hand-drawn layout, for example:\n\nTitle (center or top-left)\n\n3â€“6 Key Points\n\nSimple diagram or symbols\n\nOptional mascot or expressive character\n\nAll text must appear hand-drawn, not printed or typographic.\n\nUse the same language as the userâ€™s input unless the user specifies otherwise.\n\nğŸš« RESTRICTIONSï¼ˆç¦æ­¢äº‹é¡¹ï¼‰\n\nDo NOT produce realistic imagery.\n\nDo NOT generate copyrighted characters directly.\n\nDo NOT turn the infographic into an essay.\n\nDo NOT fill the canvas fully; always keep meaningful whitespace.\n\nDo NOT output long paragraphs.\n\nğŸ–¼ï¸ TASK\n\nCreate a cartoon-style hand-drawn infographic with the rules above, using nano banana pro, based on the following content:\n\n{{USER_INPUT}}\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/30/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","ai"]},{"id":29,"title":"ã€Electronã€‘æ˜¯å¦åœ¨ Electron ä¸­è¿è¡Œ","created_at":"2025-04-07T08:04:08Z","updated_at":"2025-04-07T08:10:25Z","content":"# ç®€ä»‹\n\nåœ¨ **Electron** é‡Œï¼Œ**nodeIntegration** è¿™ä¸ªå±æ€§æ§åˆ¶ç€æ¸²æŸ“è¿›ç¨‹èƒ½å¦ä½¿ç”¨ **Node.js** çš„ **API**ã€‚å½“ **nodeIntegration** è®¾ç½®ä¸º **true** æ—¶ï¼Œæ¸²æŸ“è¿›ç¨‹ä¼šå’Œ **Node.js** ç¯å¢ƒé›†æˆï¼Œè¿™æ„å‘³ç€åœ¨æ¸²æŸ“è¿›ç¨‹çš„å…¨å±€ **window** å¯¹è±¡ä¸Šä¼šæš´éœ² **Node.js** çš„å…¨å±€å˜é‡å’Œ APIï¼Œå…¶ä¸­å°±åŒ…æ‹¬ **process** å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œå¼€å¯ **nodeIntegration** ä¹‹åï¼Œå¯ä»¥é€šè¿‡ **window.process** è®¿é—®åˆ° **Node.js** çš„ **process** å¯¹è±¡ã€‚\n\n# æ£€æµ‹\n\n```javascript\nif (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n  return true;\n}\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/29/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":26,"title":"ã€å°ç¨‹åºã€‘æ’­æ”¾ pcm æµ","created_at":"2025-01-01T17:32:02Z","updated_at":"2025-01-21T07:35:02Z","content":"### å®æ—¶æ’­æ”¾ pcm æµ\n\n```javascript\nexport class PCMPlayer {\n  constructor(option) {\n    this.init(option);\n  }\n\n  init(option) {\n    const defaultOption = {\n      inputCodec: 'Int16', // ä¼ å…¥çš„æ•°æ®æ˜¯é‡‡ç”¨å¤šå°‘ä½ç¼–ç ï¼Œé»˜è®¤16ä½\n      channels: 1, // å£°é“æ•°\n      sampleRate: 8000, // é‡‡æ ·ç‡ å•ä½Hz\n      flushTime: 1000, // ç¼“å­˜æ—¶é—´ å•ä½ ms\n      fftSize: 2048 // analyserNode fftSize\n    };\n\n    this.option = Object.assign({}, defaultOption, option); // å®ä¾‹æœ€ç»ˆé…ç½®å‚æ•°\n    this.samples = new Float32Array(); // æ ·æœ¬å­˜æ”¾åŒºåŸŸ\n    this.interval = setInterval(this.flush.bind(this), this.option.flushTime);\n    this.convertValue = this.getConvertValue();\n    this.typedArray = this.getTypedArray();\n    this.initAudioContext();\n    this.bindAudioContextEvent();\n  }\n\n  getConvertValue() {\n    // æ ¹æ®ä¼ å…¥çš„ç›®æ ‡ç¼–ç ä½æ•°\n    // é€‰å®šè½¬æ¢æ•°æ®æ‰€éœ€è¦çš„åŸºæœ¬å€¼\n    const inputCodecs = {\n      'Int8': 128,\n      'Int16': 32768,\n      'Int32': 2147483648,\n      'Float32': 1\n    };\n    if (!inputCodecs[this.option.inputCodec]) throw new Error('wrong codec.please input one of these codecs:Int8,Int16,Int32,Float32');\n    return inputCodecs[this.option.inputCodec];\n  }\n\n  getTypedArray() {\n    // æ ¹æ®ä¼ å…¥çš„ç›®æ ‡ç¼–ç ä½æ•°\n    // é€‰å®šå‰ç«¯çš„æ‰€éœ€è¦çš„ä¿å­˜çš„äºŒè¿›åˆ¶æ•°æ®æ ¼å¼\n    // å®Œæ•´TypedArrayè¯·çœ‹æ–‡æ¡£\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\n    const typedArrays = {\n      'Int8': Int8Array,\n      'Int16': Int16Array,\n      'Int32': Int32Array,\n      'Float32': Float32Array\n    };\n    if (!typedArrays[this.option.inputCodec]) throw new Error('wrong codec.please input one of these codecs:Int8,Int16,Int32,Float32');\n    return typedArrays[this.option.inputCodec];\n  }\n\n  initAudioContext() {\n    // åˆå§‹åŒ–éŸ³é¢‘ä¸Šä¸‹æ–‡çš„ä¸œè¥¿\n    this.audioCtx = createWebAudioContext();\n    // æ§åˆ¶éŸ³é‡çš„ GainNode\n    // https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/createGain\n    this.gainNode = this.audioCtx.createGain();\n    this.gainNode.gain.value = 1;\n    this.gainNode.connect(this.audioCtx.destination);\n    this.startTime = this.audioCtx.currentTime;\n    this.analyserNode = this.audioCtx.createAnalyser();\n    this.analyserNode.fftSize = this.option.fftSize;\n  }\n\n  static isTypedArray(data) {\n    // æ£€æµ‹è¾“å…¥çš„æ•°æ®æ˜¯å¦ä¸º TypedArray ç±»å‹æˆ– ArrayBuffer ç±»å‹\n    return (data.byteLength && data.buffer && data.buffer instanceof ArrayBuffer) || data instanceof ArrayBuffer;\n  }\n\n  isSupported(data) {\n    // æ•°æ®ç±»å‹æ˜¯å¦æ”¯æŒ\n    // ç›®å‰æ”¯æŒ ArrayBuffer æˆ–è€… TypedArray\n    if (!PCMPlayer.isTypedArray(data)) throw new Error('è¯·ä¼ å…¥ArrayBufferæˆ–è€…ä»»æ„TypedArray');\n    return true;\n  }\n\n  feed(data) {\n    this.isSupported(data);\n\n    // è·å–æ ¼å¼åŒ–åçš„buffer\n    data = this.getFormattedValue(data);\n    // å¼€å§‹æ‹·è´bufferæ•°æ®\n    // æ–°å»ºä¸€ä¸ªFloat32Arrayçš„ç©ºé—´\n    const tmp = new Float32Array(this.samples.length + data.length);\n    // console.log(data, this.samples, this.samples.length)\n    // å¤åˆ¶å½“å‰çš„å®ä¾‹çš„bufferå€¼ï¼ˆå†å²buff)\n    // ä»å¤´ï¼ˆ0ï¼‰å¼€å§‹å¤åˆ¶\n    tmp.set(this.samples, 0);\n    // å¤åˆ¶ä¼ å…¥çš„æ–°æ•°æ®\n    // ä»å†å²buffä½ç½®å¼€å§‹\n    tmp.set(data, this.samples.length);\n    // å°†æ–°çš„å®Œæ•´buffæ•°æ®èµ‹å€¼ç»™samples\n    // intervalå®šæ—¶å™¨ä¹Ÿä¼šä»samplesé‡Œé¢æ’­æ”¾æ•°æ®\n    this.samples = tmp;\n    // console.log('this.samples', this.samples)\n  }\n\n  getFormattedValue(data) {\n    if (data instanceof ArrayBuffer) {\n      data = new this.typedArray(data);\n    } else {\n      data = new this.typedArray(data.buffer);\n    }\n\n    let float32 = new Float32Array(data.length);\n\n    for (let i = 0; i < data.length; i++) {\n      // buffer ç¼“å†²åŒºçš„æ•°æ®ï¼Œéœ€è¦æ˜¯IEEE754 é‡Œ32ä½çš„çº¿æ€§PCMï¼ŒèŒƒå›´ä»-1åˆ°+1\n      // æ‰€ä»¥å¯¹æ•°æ®è¿›è¡Œé™¤æ³•\n      // é™¤ä»¥å¯¹åº”çš„ä½æ•°èŒƒå›´ï¼Œå¾—åˆ°-1åˆ°+1çš„æ•°æ®\n      // float32[i] = data[i] / 0x8000;\n      float32[i] = data[i] / this.convertValue;\n    }\n    return float32;\n  }\n\n  volume(volume) {\n    this.gainNode.gain.value = volume;\n  }\n\n  destroy() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n    this.samples = null;\n    this.audioCtx.close().then();\n    this.audioCtx = null;\n  }\n\n  flush() {\n    if (!this.samples.length) return;\n    const self = this;\n    const bufferSource = this.audioCtx.createBufferSource();\n    if (typeof this.option.onended === 'function') {\n      bufferSource.onended = function (event) {\n        self.option.onended(this, event);\n      };\n    }\n    const length = this.samples.length / this.option.channels;\n    const audioBuffer = this.audioCtx.createBuffer(this.option.channels, length, this.option.sampleRate);\n\n    for (let channel = 0; channel < this.option.channels; channel++) {\n      const audioData = audioBuffer.getChannelData(channel);\n      let offset = channel;\n      let decrement = 50;\n      for (let i = 0; i < length; i++) {\n        audioData[i] = this.samples[offset];\n        /* fadein */\n        if (i < 50) {\n          audioData[i] = (audioData[i] * i) / 50;\n        }\n        /* fadeout*/\n        if (i >= (length - 51)) {\n          audioData[i] = (audioData[i] * decrement--) / 50;\n        }\n        offset += this.option.channels;\n      }\n    }\n\n    if (this.startTime < this.audioCtx.currentTime) {\n      this.startTime = this.audioCtx.currentTime;\n    }\n    // console.log('start vs current ' + this.startTime + ' vs ' + this.audioCtx.currentTime + ' duration: ' + audioBuffer.duration);\n    // console.log('start', this.startTime);\n    // console.log('duration', audioBuffer.duration);\n    bufferSource.buffer = audioBuffer;\n    bufferSource.connect(this.gainNode);\n    bufferSource.connect(this.analyserNode); // bufferSourceè¿æ¥åˆ°analyser\n    bufferSource.start(this.startTime);\n    this.option?.onstart(audioBuffer.duration);\n    this.startTime += audioBuffer.duration;\n    this.samples = new Float32Array();\n  }\n\n  async pause() {\n    await this.audioCtx.suspend();\n  }\n\n  async continue() {\n    await this.audioCtx.resume();\n  }\n\n  bindAudioContextEvent() {\n    const self = this;\n    if (typeof self.option.onstatechange === 'function') {\n      this.audioCtx.onstatechange = function (event) {\n        self.audioCtx && self.option.onstatechange(this, event, self.audioCtx.state);\n      };\n    }\n  }\n\n}\n\nexport default PCMPlayer;\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/26/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":24,"title":"ã€OSSã€‘å‰ç«¯ç›´ä¼  oss","created_at":"2024-12-03T09:20:59Z","updated_at":"2025-01-01T17:32:24Z","content":"> åœ¨ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œä¸ºäº†é™ä½åç«¯æœåŠ¡å™¨å‹åŠ›ã€æé«˜ä¸Šä¼ é€Ÿåº¦ç­‰ã€‚å¯ç”±å‰ç«¯ç›´æ¥ä¸Šä¼ è‡³ossã€‚\r\n> \r\n> å½“ä½¿ç”¨ npm çš„æ–¹å¼ä½¿ç”¨ oss sdk æ—¶ï¼Œbuild å¯èƒ½ä¼šå¼‚å¸¸ã€‚å¯ä»¥é‡‡ç”¨ cdn çš„æ–¹å¼ä½¿ç”¨ã€‚\r\n> \r\n> Githubï¼š[ali-oss](https://github.com/ali-sdk/ali-oss)\r\n\r\n### å®ç°é€»è¾‘\r\n\r\nå¦‚æœæ˜¯æ‰¹é‡ä¸Šä¼ ï¼Œåˆ™éœ€æ§åˆ¶ä¸Šä¼ é˜Ÿåˆ—ï¼Œå•ä¸ªä¾æ¬¡æ‰§è¡Œä¸Šä¼ ã€‚\r\n\r\nå•ä¸ªæ–‡ä»¶ä¸Šä¼ ç®€å•é€»è¾‘å¦‚ä¸‹ï¼š\r\n\r\n1. è·å– oss config\r\n2. åˆå§‹åŒ– oss sdk\r\n3. æ‰§è¡Œåˆ†ç‰‡ä¸Šä¼ \r\n   - è¿™é‡Œä¸è®ºæ–‡ä»¶å¤§å°éƒ½é‡‡ç”¨åˆ†ç‰‡ä¸Šä¼ çš„æ–¹å¼ï¼Œç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–ï¼Œç»Ÿä¸€é€»è¾‘ã€‚\r\n   - å¯é’ˆå¯¹ä¸åŒæ–‡ä»¶æŒ‡å®šä¸åŒçš„åˆ†ç‰‡æ•°é‡ï¼ˆä¾‹å¦‚ï¼šæ–‡ä»¶å°äº1MBåˆ™åˆ†1ç‰‡ï¼‰\r\n4. ä¸Šä¼ æˆåŠŸåä¸ŠæŠ¥ oss path\r\n\r\n### å¼‚å¸¸å¤„ç†\r\n\r\n1. åˆå§‹åŒ– oss sdk éœ€è¦æœ‰ tokenï¼Œç”±äºtokenç›´æ¥è¾“å‡ºè‡³å‰ç«¯ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ token å¿…é¡»è®¾ç½®æœ‰æ•ˆæœŸï¼Œä¾‹å¦‚ 5 åˆ†é’Ÿã€‚å› æ­¤å®¢æˆ·ç«¯éœ€ åœ¨ token è¿‡æœŸä¹‹å‰ï¼Œæå‰åˆ·æ–° tokenã€‚é˜²æ­¢ token è¿‡æœŸå¯¼è‡´ä¸Šä¼ å¤±è´¥ã€‚\r\n   - ä¸ºä»€ä¹ˆ 5 åˆ†é’Ÿæœ‰æ•ˆæœŸè¿˜ä¸å¤Ÿç”¨ï¼Ÿå®¢æˆ·ç«¯ç½‘ç»œä¸å¯æ§\r\n2. åœ¨è¿›è¡Œåˆ†ç‰‡ä¸Šä¼ æ—¶ï¼Œå¦‚æœä¸Šä¼ å¤±è´¥ï¼Œå¯è®¾ç½®è‡ªåŠ¨é‡è¯•ã€‚é‡è¯•æ¬¡æ•°å¯æ ¹æ®ä¸šåŠ¡è‡ªå®šã€‚\r\n   - æ–­ç‚¹ç»­ä¼ ï¼Ÿå¯æ ¹æ®ä¸šåŠ¡è‡ªè¡Œå®ç°ã€‚\r\n\r\n### èƒ½åŠ›æ‰©å±•\r\n\r\n1. ä¸Šä¼ é€Ÿåº¦\r\n   - ä¸Šä¼ å¼€å§‹å‰ è®°å½•å½“å‰æ—¶é—´ä¸ºå¼€å§‹æ—¶é—´\r\n   - é€šè¿‡ä¸Šä¼ çš„ progress å›è°ƒã€‚å¯ä»¥è·å¾—ä¸Šä¼ è¿›åº¦ï¼Œè¿›è€Œå¯ä»¥è·å–å·²ä¸Šä¼ çš„æ–‡ä»¶å¤§å°ã€‚å¦‚æœä»¥æ­¤åˆ»ä¸ºç»“æŸæ—¶é—´çš„è¯ï¼Œé‚£ä¹ˆå°±å¯å¤§çº¦è®¡ç®—å‡ºä¸Šä¼ é€Ÿåº¦\r\n   - ç”±äº progress å›è°ƒé¢‘ç‡ä¸å¤Ÿé«˜ï¼Œå¦‚æœéœ€è¦æ›´é«˜é¢‘ç‡æ˜¾ç¤ºï¼Œå¯è‡ªè¡Œå®ç°åŠ é€Ÿé€»è¾‘ã€‚æ¯”å¦‚åœ¨ä¸€æ¬¡ progress å›è°ƒä¸­è®¡ç®—å¤šæ¬¡ç»“æœã€‚\r\n2. å•æ–‡ä»¶ä¸Šä¼ è¿›åº¦\r\n   - é€šè¿‡ progress å›è°ƒæ ¹æ®å·²ä¸Šä¼ æ–‡ä»¶å¤§å°ï¼Œè®¡ç®—å¾—å‡ºå½“å‰ä¸Šä¼ è¿›åº¦ã€‚\r\n3. æ•´ä½“ä¸Šä¼ ä»»åŠ¡è¿›åº¦\r\n   - å¦‚æœéœ€è¦æ˜¾ç¤ºæ‰¹é‡çš„è¿›åº¦ï¼Œåˆ™å¯åœ¨æ¯ä¸ªæ–‡ä»¶ä¸Šä¼ åæˆ–è€…æ¯ä¸ªæ–‡ä»¶çš„ progress å›è°ƒï¼ˆæ›´ç²¾ç»†çš„è¿›åº¦æ˜¾ç¤ºï¼‰ä¸­è®¡ç®—ã€‚ \r\n4. å¤±è´¥é‡è¯•\r\n   - åœ¨ä¸Šä¼ å¤±è´¥æ—¶å¯è®¾ç½®è‡ªåŠ¨é‡è¯•é€»è¾‘ã€‚è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°åˆ™æœ€ç»ˆä¸Šä¼ å¤±è´¥ã€‚\r\n5. é’ˆå¯¹ä¸åŒæ–‡ä»¶è®¾ç½®ä¸åŒåˆ†ç‰‡\r\n    - åˆç†çš„åˆ†ç‰‡èƒ½å¤Ÿæ›´å¥½çš„åˆ©ç”¨å¸¦å®½ï¼Œå¢åŠ ä¸Šä¼ é€Ÿåº¦ã€‚\r\n    - åŒåŸŸåä¸‹çš„æµè§ˆå™¨å¹¶å‘é™åˆ¶ä¸º6ä¸ªï¼ˆä¸åŒæµè§ˆå™¨ï¼Œä¸åŒç‰ˆæœ¬å¯èƒ½é™åˆ¶å­˜åœ¨å·®å¼‚ï¼Œä¸»è¦ç›®çš„æ˜¯éœ€è¦åˆç†çš„é™åˆ¶å¹¶å‘æ•°ï¼‰\r\n    - æ ¹æ®æ–‡ä»¶å¤§å°ï¼Œä»¥åŠå¹¶å‘æ•°é‡ï¼Œè®¡ç®—å‡ºåˆ†ç‰‡æ•°é‡ä»¥åŠæ¯ç‰‡å¤§å°ã€‚\r\n6. ä½¿ç”¨åŠ é€ŸåŸŸå\r\n   - å¦‚æœå®¢æˆ·ç«¯ç”±äºåœ°åŸŸåŸå› å¯¼è‡´ä¸Šä¼ æ…¢æˆ–è€…å¤±è´¥ã€‚å¯åœ¨ä¸Šä¼ å¤±è´¥æ—¶å¯ç”¨åŠ é€ŸåŸŸåè¿›è¡ŒåŠ é€Ÿä¸Šä¼ ï¼ˆä¿®æ”¹oss configï¼‰ã€‚\r\n7. æ–‡ä»¶æ£€æŸ¥\r\n   - åœ¨ä¸Šä¼ ä¹‹å‰å¯ç®€å•è¿›è¡Œæ–‡ä»¶ç±»å‹ï¼Œå¤§å°ç­‰æ£€æŸ¥ã€‚å¦‚æœä¸ç¬¦åˆä¸šåŠ¡åˆ™ç›´æ¥ç»™å‡ºæç¤ºå³å¯ã€‚\r\n\r\n### ä»£ç å®ç°\r\n\r\n- refreshSTSTokenInterval å¯æ ¹æ®ä¸šåŠ¡æƒ…å†µè¿›è¡Œä¿®æ”¹ã€‚\r\n- calcPart å¯æ ¹æ®ä¸šåŠ¡æƒ…å†µè‡ªè¡Œå®ç°ã€‚\r\n\r\n```javascript\r\nlet client;\r\n\r\nconst uploadConfig = {\r\n  fileList: [],\r\n  params: new Map(),\r\n  data: {},\r\n};\r\n\r\nconst multipartUpload = (file) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    const res = await getOssConfig();\r\n\r\n    const startTime = Date.now();\r\n\r\n    client = new OSS({\r\n      ...getStsConfig(uploadConfig.data.sts_config),\r\n      refreshSTSToken: async () => {\r\n        const info = await getOssConfig();\r\n        return {\r\n          accessKeyId: info.accessKeyId,\r\n          accessKeySecret: info.accessKeySecret,\r\n          stsToken: info.stsToken,\r\n        };\r\n      },\r\n      refreshSTSTokenInterval: interval * 60 * 1000,\r\n    });\r\n\r\n    client\r\n      .multipartUpload(dir, file.file, {\r\n        progress: (p) => {\r\n          const costTime = (Date.now() - startTime) / 1000;\r\n          const uploadedSize = ((file.file?.size || 0) * p) / 1024 / 1024;\r\n          const fileSpeed = (uploadedSize / costTime).toFixed(2);\r\n\r\n          console.table({\r\n            '0-name': file.name,\r\n            '1-fileSize': (file.file?.size || 0) / 1024 / 1024 + 'M',\r\n            '2-progress': p * 100 + '%',\r\n            '3-costTime': costTime + 's',\r\n            '4-uploadedSize': uploadedSize + 'M',\r\n            '5-fileSpeed': fileSpeed + 'M/s',\r\n            '6-partSize': calcPart(file.file?.size || 0).partSize / 1024 / 1024 + 'M',\r\n          });\r\n\r\n          uploadConfig.speedMap[file.name] = fileSpeed;\r\n        },\r\n        ...calcPart(file.file?.size || 0),\r\n      })\r\n      .then((res) => {\r\n        uploadConfig.retryMap[file.name] = 0;\r\n        delete uploadConfig.speedMap[file.name];\r\n        resolve(res);\r\n      })\r\n      .catch(async (err) => {\r\n        if (err?.message?.includes('expired') && uploadConfig.retryMap[file.name] < 3) {\r\n          try {\r\n            uploadConfig.retryMap[file.name] += 1;\r\n            uploadConfig.data = await getOssConfig();\r\n            resolve(await multipartUpload(file));\r\n          } catch (e) {\r\n            reject(e);\r\n          }\r\n        } else {\r\n          uploadConfig.retryMap[file.name] = 0;\r\n          reject(err?.message || err?.name);\r\n        }\r\n      });\r\n  });\r\n};\r\n\r\nfunction calcPart(size) {\r\n  const mbSize = size / 1024 / 1024;\r\n\r\n  const config = {\r\n    parallel: 6,\r\n    partSize: size,\r\n  };\r\n\r\n  if (mbSize > 12 && mbSize <= 50) {\r\n    config.partSize = Math.ceil(mbSize / 6) * 1024 * 1024;\r\n  }\r\n\r\n  if (mbSize > 50 && mbSize <= 100) {\r\n    config.partSize = Math.ceil(mbSize / 12) * 1024 * 1024;\r\n  }\r\n\r\n  if (mbSize > 100) {\r\n    config.partSize = Math.ceil(mbSize / 18) * 1024 * 1024;\r\n  }\r\n\r\n  return config;\r\n}\r\n```\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/24/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":23,"title":"ã€æ›´æ–°æé†’ã€‘Web å®ç°æ›´æ–°æé†’","created_at":"2024-11-26T09:54:21Z","updated_at":"2025-01-01T17:32:35Z","content":"> åœ¨webé¡¹ç›®æ—¥å¸¸æ›´æ–°ä¸­ç»å¸¸ä¼šé‡åˆ°ï¼Œä»£ç æ›´æ–°åç”¨æˆ·æ— æ„ŸçŸ¥ã€‚å¯¼è‡´åŠŸèƒ½å¼‚å¸¸æˆ–è€…ä½“éªŒä¸åˆ°æ–°åŠŸèƒ½ã€‚\r\n>\r\n> å› æ­¤éœ€è¦æ›´æ–°æé†’æœºåˆ¶æ¥ä¸»åŠ¨å‘ŠçŸ¥ç”¨æˆ·ï¼Œç³»ç»Ÿæœ‰æ›´æ–°éœ€è¦é‡æ–°åŠ è½½ã€‚\r\n>\r\n> ä»¥ä¸‹æ–¹æ¡ˆæš‚ä¸è€ƒè™‘è½®è¯¢å¼•èµ·çš„å‹åŠ›é—®é¢˜ã€‚\r\n\r\n**åŸºæœ¬åŸç†ï¼šè¯·æ±‚è¿œç«¯æ ‡è®°ä¸å½“å‰æ ‡è®°åšåˆ¤æ–­ï¼Œä¸ä¸€è‡´åˆ™æ›´æ–°ã€‚**\r\n\r\n### æ–¹æ¡ˆä¸€ï¼šè¯·æ±‚é™æ€æ–‡ä»¶\r\n\r\n- åœ¨ vueï¼Œreact ç­‰é¡¹ç›®æ‰“åŒ…å®Œæˆä¹‹åä¼šç”Ÿæˆé™æ€jsæ–‡ä»¶ã€‚\r\n- jsæ–‡ä»¶åç§°æ ¼å¼ä¸€èˆ¬ä¸º name+hash.extï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨hashæ¥è¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰æ›´æ–°ã€‚\r\n- è½®è¯¢è¯·æ±‚å…¥å£htmlæ–‡ä»¶ã€‚åˆ©ç”¨æ­£åˆ™è·å– ä¾‹å¦‚app_hash.jsä¸­çš„hashå€¼ï¼Œä¸å½“å‰æ–‡ä»¶ä¸­çš„hashå€¼åšæ¯”å¯¹ï¼Œå¦‚æœä¸€è‡´è¯´æ˜æ— æ›´æ–°ï¼Œå¦‚æœä¸ä¸€è‡´ç»™å‡ºæ›´æ–°æé†’ã€‚\r\n\r\n#### ä¼˜åŠ¿\r\n\r\n- çº¯ä¾èµ–å‰ç«¯ï¼Œå¿«\r\n- æ— éœ€è¿›è¡Œç¯å¢ƒåŒºåˆ†ï¼Œç›´æ¥è¯·æ±‚å½“å‰ç¯å¢ƒæ–‡ä»¶å³å¯\r\n\r\n#### ä¸è¶³\r\n\r\n- æ— æ³•è¿›è¡Œæ›´ç²¾ç»†åŒ–ç®¡ç†ã€‚åªè¦hashä¸ä¸€è‡´å°±ä¼šç»™å‡ºæé†’\r\n- æ›´æ–°å hash å¦‚æœæœªå‘ç”Ÿå˜åŒ–ï¼Œåˆ™ä¼šè§†ä¸ºæ— æ›´æ–°\r\n\r\n### æ–¹æ¡ˆäºŒï¼šè¯·æ±‚çº¦å®šæ–‡ä»¶\r\n\r\n- åœ¨æ‰“åŒ…å®Œæˆåï¼Œåœ¨å›ºå®šä½ç½®ä»¥åŠhtmlä¸­ç”Ÿæˆæ›´æ–°æ ‡è®°æ–‡ä»¶ï¼ˆæ›´æ–°æ ‡è®°çš„ç”Ÿæˆå¯ç”±è‡ªåŠ¨åŒ–è„šæœ¬å®Œæˆï¼Œæ›´æ–°æ ‡è®°å¯è§†æƒ…å†µå†³å®šæ˜¯å¦éœ€è¦ï¼‰ï¼Œæ›´æ–°æ ‡è®°éœ€åŒ…å«ä»¥ä¸‹å†…å®¹\r\n    - æ ‡è¯†ï¼šç‰ˆæœ¬å·ã€commit idæˆ–å…¶ä»–\r\n    - ç¯å¢ƒï¼šdevã€proæˆ–å…¶ä»–\r\n- è½®è¯¢è¯·æ±‚æ›´æ–°æ ‡è®°ï¼ŒæŒ‰ç…§ç¯å¢ƒè·å–å¯¹åº”çš„æ ‡è¯†ä¸å…¥å£htmlä¸­çš„æ ‡è¯†æ¥è¿›è¡Œåˆ¤æ–­æ˜¯å¦éœ€è¦è§¦å‘æ›´æ–°ã€‚\r\n\r\n#### ä¼˜åŠ¿\r\n\r\n- è§£å†³æ–¹æ¡ˆä¸€çš„ä¸è¶³\r\n- ä¸å—é¡¹ç›®é™åˆ¶ï¼Œå¯æŒ‰çº¦å®šå…¨é¡¹ç›®é€šç”¨\r\n\r\n#### ä¸è¶³\r\n\r\n- æ›´æ–°æ ‡è®°ç”Ÿæˆéœ€è¦é¢å¤–æˆæœ¬\r\n\r\n### æ³¨æ„\r\n\r\n- åœ¨è¯·æ±‚é™æ€æ–‡ä»¶æˆ–è€…æ›´æ–°æ ‡è®°æ—¶ GET è¯·æ±‚ä¼šæœ‰ç¼“å­˜ï¼Œå¯¼è‡´æ–‡ä»¶å†…å®¹ä¸æ›´æ–°\r\n    - å¯åœ¨è¯·æ±‚urlåå¢åŠ  _t å‚æ•°ï¼Œå‚æ•°å€¼ä¸ºæ—¶é—´æˆ³\r\n    - æ›´æ¢ POST è¯·æ±‚\r\n- éƒ¨ç½²æ–¹å¼ä¸åŒå¯èƒ½ä¼šå¯¼è‡´å¼‚å¸¸\r\n    - éƒ¨ç½²æ–¹å¼ä¸€ï¼šï¼ˆå…¥å£htmlï¼Œé™æ€èµ„æºï¼‰-> æœåŠ¡å™¨ã€‚ä¸€èµ·æ›´æ–°åˆ™æ— é—®é¢˜ã€‚\r\n    - éƒ¨ç½²æ–¹å¼äºŒï¼šï¼ˆé™æ€èµ„æºï¼‰-> oss -> (å…¥å£html) -> æœåŠ¡å™¨ã€‚\r\n        - æ–¹æ¡ˆä¸€æ— é—®é¢˜\r\n        - æ–¹æ¡ˆäºŒåˆ™ä¼šå‘ç”Ÿï¼šè§¦å‘äº†æ›´æ–°æé†’ï¼Œä½†æ˜¯åˆ·æ–°åä¾æ—§æ˜¾ç¤ºæ—§é¡µé¢çš„é—®é¢˜ã€‚åŸå› æ˜¯å› ä¸ºé™æ€èµ„æºæ›´æ–°æ—¶å…¥å£æ–‡ä»¶å¹¶ä¸ºæ›´æ–°ï¼Œæ­¤æ—¶å¦‚æœåˆ·æ–°é¡µé¢ï¼Œåˆ™è¿˜æ˜¯æ—§ç‰ˆæœ¬å…¥å£æ–‡ä»¶ã€‚å› æ­¤éœ€è¦å¢åŠ é€»è¾‘åˆ¤æ–­ï¼Œå½“å…¥å£æ–‡ä»¶ä¸­çš„æ ‡è¯†ä¸æ›´æ–°æ ‡è®°æ–‡ä»¶ä¸­çš„æ ‡è¯†ä¸€è‡´æ—¶æ‰ä¼šè§¦å‘æ›´æ–°ã€‚\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/23/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":21,"title":"ã€Vueã€‘Vue3 é‡ç½®ç»„ä»¶çŠ¶æ€","created_at":"2024-11-22T03:32:59Z","updated_at":"2024-11-22T03:33:21Z","content":"> åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚è¡¨å•æäº¤ï¼Œç»å¸¸ä¼šéœ€è¦é‡ç½®è¡¨å•çŠ¶æ€ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„æ–¹å¼è¿›è¡Œç»„ä»¶çŠ¶æ€ä¼˜é›…é‡ç½®ã€‚\r\n\r\n### xxxå†™æ³•\r\n\r\n```vue\r\n\r\n<template>\r\n  <div>\r\n    <div>{{ state.name }} - {{ state.age }}</div>\r\n    <div @click=\"resetState\">reset ref</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n  import { reactive } from 'vue';\r\n\r\n  const state = reactive({\r\n    name: 1,\r\n    age: 2,\r\n  });\r\n\r\n  function resetState() {\r\n    state.name = 1;\r\n    state.age = 2;\r\n  }\r\n</script>\r\n```\r\n\r\n### Hook å°è£…\r\n\r\n```javascript\r\nimport { ref, reactive } from 'vue';\r\n\r\nfunction clone(value) {\r\n  return JSON.parse(JSON.stringify(value));\r\n}\r\n\r\nexport function useResettableRef(value) {\r\n  const initialValue = clone(value);\r\n  const state = ref(value);\r\n\r\n  const reset = () => {\r\n    state.value = clone(initialValue);\r\n  }\r\n\r\n  return [state, reset];\r\n}\r\n\r\nexport function useResettableReactive(value) {\r\n  const state = reactive(clone(value));\r\n\r\n  const reset = () => {\r\n    Object.keys(state).forEach((key) => delete state[key]);\r\n    Object.assign(state, clone(value));\r\n  }\r\n\r\n  return [state, reset];\r\n}\r\n```\r\n\r\n### Hook ä½¿ç”¨\r\n\r\n```vue\r\n\r\n<template>\r\n  <div>\r\n    <div>refï¼š{{ refState.name }} - {{ refState.age }}</div>\r\n    <div @click=\"resetRefState\">reset ref</div>\r\n\r\n    <div>reactiveï¼š{{ reactiveState.name }} - {{ reactiveState.age }}</div>\r\n    <div @click=\"resetReactiveState\">reset ref</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n  import { useResettableRef, useResettableReactive } from '@/hooks/index.js';\r\n\r\n  const [refState, resetRefState] = useResettableRef({\r\n    name: 1,\r\n    age: 2\r\n  });\r\n\r\n  const [reactiveState, resetReactiveState] = useResettableReactive({\r\n    name: 1,\r\n    age: 2\r\n  });\r\n</script>\r\n```\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/21/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯","vue"]},{"id":19,"title":"ã€Wasmã€‘SharedArrayBuffer(SAB) is not defined","created_at":"2024-11-18T10:16:31Z","updated_at":"2024-11-18T10:16:46Z","content":"### èƒŒæ™¯\r\n\r\nSharedArrayBuffer æ˜¯ JavaScript ä¸­ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ç±»å‹ï¼Œç”¨äºåœ¨å¤šä¸ª Web Workers æˆ–ä¸»çº¿ç¨‹ä¹‹é—´å…±äº«å†…å­˜ã€‚å®ƒä¸æ™®é€šçš„ ArrayBuffer\r\nç±»ä¼¼ï¼Œä½† å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­åŒæ—¶è®¿é—®å’Œä¿®æ”¹ã€‚è¿™ç§åŠŸèƒ½å¯¹äºéœ€è¦é«˜æ€§èƒ½å¹¶å‘å¤„ç†çš„åœºæ™¯éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚å®æ—¶æ•°æ®å¤„ç†ã€æ¸¸æˆå¼€å‘ã€éŸ³è§†é¢‘å¤„ç†ç­‰ã€‚\r\n\r\n> 2017.7æœˆï¼ˆChrome 60ï¼‰å¼•å…¥ SharedArrayBufferã€‚\r\n>\r\n> 2021.7æœˆï¼ˆChrome 92ï¼‰é™åˆ¶ SharedArrayBuffer åªèƒ½åœ¨ cross-origin isolated é¡µé¢ä½¿ç”¨ã€‚ï¼ˆSpectre æ¼æ´ï¼‰\r\n\r\n### è§£å†³æ–¹æ¡ˆ\r\n\r\n##### ä¸€ã€ä¸å¯ç”¨ SharedArrayBuffer\r\n\r\n##### äºŒã€ åœ¨ HTTP å“åº”å¤´ä¸­æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªå®‰å…¨æ ‡å¤´ï¼š\r\n\r\n1. Cross-Origin-Opener-Policy (COOP):\r\n    - å°†é¡µé¢ä¸å…¶ä»–æ¥æºçš„çª—å£éš”ç¦»å¼€æ¥ã€‚\r\n    - æ¨èå€¼ï¼šsame-originã€‚\r\n2. Cross-Origin-Embedder-Policy (COEP):\r\n    - ç¡®ä¿é¡µé¢ä¸­åŠ è½½çš„èµ„æºå…·å¤‡åŒæºæ€§æˆ–å…·æœ‰é€‚å½“çš„è·¨æºæˆæƒã€‚\r\n    - æ¨èå€¼ï¼šrequire-corpã€‚\r\n\r\nç¤ºä¾‹é…ç½®ï¼š\r\n\r\n```\r\nCross-Origin-Opener-Policy: same-origin\r\nCross-Origin-Embedder-Policy: require-corp\r\n```\r\n\r\n##### ä¸‰ã€Chrome Origin Trials\r\n\r\nç”³è¯·åœ°å€ï¼š[Trial for SharedArrayBuffers in non-isolated pages on Desktop platforms](https://developer.chrome.com/origintrials/#/view_trial/303992974847508481)\r\n\r\n### å‚è€ƒèµ„æ–™\r\n\r\n- [å…³äº SharedArrayBuffer spectre æ”»å‡»çš„è®¨è®º](https://github.com/tc39/security/issues/3)\r\n- [ä½¿ç”¨ SharedArrayBuffer è¿›è¡Œ Spectre æ”»å‡»çš„åŸç†](https://www.giantbranch.cn/2018/01/09/è…¾è®¯ç„æ­¦å®éªŒå®¤æ£€æµ‹æµè§ˆå™¨spectreçš„åŸç†)\r\n- [ä½¿ç”¨ COOP å’Œ COEP å°†ç½‘ç«™è®¾ç½®ä¸ºâ€œè·¨æºéš”ç¦»â€](https://web.dev/articles/coop-coep?hl=zh-cn)\r\n- [A year with Spectre: a V8 perspective](https://v8.dev/blog/spectre)\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/19/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":17,"title":"ã€React hackã€‘åœ¨ React ä¸­æ¨¡æ‹Ÿè§¦å‘è¾“å…¥","created_at":"2024-11-11T15:53:16Z","updated_at":"2025-01-01T17:32:48Z","content":"### åœ¨ React ä¸­è¿›è¡Œæ¨¡æ‹Ÿè§¦å‘è¾“å…¥\r\n\r\n> å‚è€ƒï¼šhttps://github.com/facebook/react/issues/11488\r\n\r\nåœ¨è‡ªåŠ¨åŒ–æµ‹è¯•æˆ–åœ¨çº¿è°ƒè¯•Reacté¡¹ç›®ä¸­ï¼Œä¼šé‡åˆ°ç›´æ¥ä¿®æ”¹inputçš„valutå€¼UIå˜åŒ–ï¼Œä½†æ˜¯å†…éƒ¨stateå¹¶æ²¡æœ‰ä¿®æ”¹çš„æƒ…å†µã€‚å› æ­¤éœ€è¦hackæ–¹æ³•æ¥è§£å†³ï¼š\r\n\r\n```javascript\r\nlet input = document.querySelector('xxx');\r\nlet lastValue = input.value;\r\ninput.value = 'xxx';\r\nlet event = new Event('input', {bubbles: true});\r\nevent.simulated = true;\r\nlet tracker = input._valueTracker;\r\nif (tracker) {\r\n  tracker.setValue(lastValue)\r\n}\r\ninput.dispatchEvent(event);\r\nconst enterKeyEvent = new KeyboardEvent('keypress', {\r\n  key: 'Enter',\r\n  keyCode: 13,\r\n  code: 'Enter',\r\n  which: 13,\r\n  bubbles: true,\r\n});\r\ninput.dispatchEvent(enterKeyEvent);\r\n```\r\n\r\n```javascript\r\nconst fileInput = document.querySelector('input[type=\"file\"]');\r\n\r\nasync function simulateRemoteFileSelection(url) {\r\n  const response = await fetch(url);\r\n  const blob = await response.blob();\r\n\r\n  const file = new File([blob], \"file.mp4\", {\r\n    type: blob.type,\r\n  });\r\n\r\n  const dataTransfer = new DataTransfer();\r\n  dataTransfer.items.add(file);\r\n\r\n  fileInput.files = dataTransfer.files;\r\n\r\n  const event = new Event('change', {bubbles: true});\r\n  fileInput.dispatchEvent(event);\r\n}\r\n\r\nsimulateRemoteFileSelection('xxxx');\r\n```","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/17/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯","react"]},{"id":16,"title":"ã€ğŸ—‘ï¸ã€‘å›æ”¶ç«™","created_at":"2024-11-07T01:51:26Z","updated_at":"2025-11-15T09:42:55Z","content":"### åœ¨çº¿å·¥å…·\n\n1. ğŸ†“ [Diff-checker](https://www.diffchecker.com/zh-Hans/) æ”¯æŒ **æ–‡æœ¬ã€å›¾åƒã€PDFã€æ–‡ä»¶å¤¹**\n2. ğŸ†“ [IT-tools](https://tools.codewf.com) **å¼€æº**çš„ IT å·¥å…·ç®±ï¼Œèƒ½åŠ›ä¸°å¯Œ\n3. ğŸ†“ [æ–‡ä»¶è½¬æ¢](https://convertio.co/zh/) å°†æ‚¨çš„æ–‡ä»¶è½¬æ¢æˆä»»æ„æ ¼å¼\n4. ğŸ†“ [Mac-icons](https://macosicons.com/#/) Mac åº”ç”¨å›¾æ ‡\n5. ğŸ†“ [å›¾ç‰‡è§†é¢‘å¤„ç†](https://www.arkthinker.com/zh/) å›¾ç‰‡è§†é¢‘å¤„ç†\n6. ğŸ†“ [AIè¯ä»¶ç…§](https://huggingface.co/spaces/TheEeeeLin/HivisionIDPhotos)\n\n### ç”µå­ä¹¦\n- [JavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬3ç‰ˆï¼‰.pdf](https://github.com/user-attachments/files/17866459/JavaScript.3.pdf)\n- [javaScriptè¯­è¨€ç²¾ç²¹.pdf](https://github.com/user-attachments/files/17866462/javaScript.pdf)\n- [Node.jså®æˆ˜[CN].pdf](https://github.com/user-attachments/files/17866465/Node.js.CN.pdf)\n- [æ·±å…¥æµ…å‡ºNode.js.pdf](https://github.com/user-attachments/files/17866466/Node.js.pdf)\n- [äº§å“ä¹‹è·¯ï¼šä»é è°±æƒ³æ³•åˆ°äº§å“è½åœ°å†åˆ°äº§å“æ¨å¹¿-äºçª.pdf](https://github.com/user-attachments/files/21421539/-.pdf)\n\n### æœ‰æ„æ€çš„\n- [emojimix](https://tikolu.net/emojimix)\n- [åœ¨çº¿æ¸¸æˆ](https://poki.com/zh)\n- [tk emoji](https://mzbbb.dpdns.org)\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/16/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","æ‚è®°"]},{"id":15,"title":"ã€Vue routerã€‘åŠ¨æ€è·¯ç”±åŒ¹é…ä¸‹çš„æƒé™å¤„ç†","created_at":"2024-11-06T08:36:19Z","updated_at":"2024-11-11T15:53:40Z","content":"### åŸºäºè·¯ç”±çš„è®¿é—®æ§åˆ¶ï¼ˆRoute-Based Access Controlï¼‰\r\n\r\n> å‰ç«¯ routes.js ä¸­å®šä¹‰å®Œæ•´è·¯ç”±ï¼Œæ¯ä¸ªè·¯ç”± meta ä¿¡æ¯ä¸­çš„ role æ¥æ ‡è¯†æƒé™å€¼ã€‚ç™»é™†ä¹‹åé€šè¿‡ç”¨æˆ·çš„æƒé™è¿‡æ»¤å®Œæ•´è·¯ç”±ï¼Œæœ€ç»ˆç”Ÿæˆç”¨æˆ·è·¯ç”±ã€‚\r\n\r\n#### ç‰¹ç‚¹\r\n\r\n- é›†ä¸­ç®¡ç†ï¼šåœ¨ routes.js ä¸­é›†ä¸­ç®¡ç†æ‰€æœ‰è·¯ç”±åŠå…¶æƒé™ä¿¡æ¯ã€‚\r\n- åŠ¨æ€ç”Ÿæˆç”¨æˆ·è·¯ç”±ï¼šç”¨æˆ·ç™»å½•æ—¶æ ¹æ®æƒé™åŠ¨æ€è¿‡æ»¤è·¯ç”±ï¼Œç”Ÿæˆç¬¦åˆç”¨æˆ·æƒé™çš„è·¯ç”±é…ç½®ã€‚\r\n- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼šé€šè¿‡ meta.role æ¥ç®¡ç†å’Œæ§åˆ¶è§’è‰²æƒé™ï¼Œå¯ä»¥æ”¯æŒå¤šè§’è‰²çš„è®¿é—®æƒé™éœ€æ±‚ã€‚\r\n\r\n#### æµç¨‹\r\n\r\n- å®šä¹‰å®Œæ•´è·¯ç”±è¡¨ï¼šåœ¨ routes.js ä¸­å®šä¹‰æ‰€æœ‰è·¯ç”±å’Œå¯¹åº”çš„ meta.role ä¿¡æ¯ã€‚\r\n- ç”¨æˆ·ç™»å½•åè·å–æƒé™ï¼šç”¨æˆ·ç™»å½•åï¼Œè·å–ç”¨æˆ·æƒé™ä¿¡æ¯ï¼ˆå¦‚è§’è‰²ã€æƒé™ ID ç­‰ï¼‰ã€‚\r\n- åŠ¨æ€è¿‡æ»¤è·¯ç”±ï¼šæ ¹æ®ç”¨æˆ·çš„æƒé™ä¿¡æ¯è¿‡æ»¤å®Œæ•´è·¯ç”±è¡¨ï¼Œç”Ÿæˆä»…åŒ…å«ç”¨æˆ·æœ‰æƒé™è®¿é—®çš„è·¯ç”±ã€‚\r\n- åŠ¨æ€æ³¨å…¥è·¯ç”±è¡¨ï¼šå°†è¿‡æ»¤åçš„è·¯ç”±è¡¨åŠ¨æ€æ³¨å…¥åˆ°è·¯ç”±é…ç½®ä¸­ã€‚\r\n\r\n### ä¸šåŠ¡èƒŒæ™¯\r\n\r\n> åŸºäºä¸Šè¿°æµç¨‹ã€‚åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œå¦‚æœç”¨æˆ·è¿›å…¥æ— åŒ¹é…è·¯ç”±é¡µé¢æ—¶ï¼ˆ**å®é™…è·¯ç”±ç¡®å®ä¸å­˜åœ¨ã€æƒé™ä¸è¶³å¯¼è‡´æ— åŒ¹é…è·¯ç”±**ï¼‰ï¼Œä¼šé‡å®šå‘è‡³ 404\r\n> é¡µé¢ï¼ˆæ­¤åŠ¨ä½œç”± vue-router çš„ è·¯ç”±åŒ¹é…å®Œæˆï¼‰ã€‚\r\n>\r\n> [æ•è·æ‰€æœ‰è·¯ç”±æˆ– 404 Not found è·¯ç”±](https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#æ•è·æ‰€æœ‰è·¯ç”±æˆ–-404-Not-found-è·¯ç”±)\r\n\r\n```javascript\r\n// éœ€åœ¨ç”¨æˆ·è·¯ç”±è¡¨ç”Ÿæˆåæ·»åŠ \r\nconst NOT_FOUND_ROUTE = {\r\n  name: 'NotFound',\r\n  path: '/:pathMatch(.*)*',\r\n  redirect: '/404',\r\n};\r\n```\r\n\r\n#### é—®é¢˜\r\n\r\né€šè¿‡ä»¥ä¸Šæ“ä½œï¼Œä¸€æ—¦åŒ¹é…ä¸åˆ°è·¯ç”±å°±ä¼šé‡å®šå‘è‡³ 404 é¡µé¢ã€‚æ­¤æ—¶æ— æ³•åŒºåˆ†è¿›å…¥ 404 çš„åŸå› åˆ°åº•æ˜¯å› ä¸º **å®é™…è·¯ç”±ä¸å­˜åœ¨** è¿˜æ˜¯ **æƒé™ä¸è¶³\r\n**\r\n**ã€‚\r\n\r\n#### è§£å†³æ–¹æ¡ˆ\r\n\r\nä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜å¯ä»¥ä¿®æ”¹ **NotFound** ä¸­çš„ **redirect** å¦‚ä¸‹:\r\n\r\n```javascript\r\nconst NOT_FOUND_ROUTE = {\r\n  name: 'NotFound',\r\n  path: '/:pathMatch(.*)*',\r\n  redirect: (to) => {\r\n    console.log(to);\r\n    return '/404';\r\n  },\r\n};\r\n```\r\n\r\nåœ¨å°† **redirect** é…ç½®é¡¹è®¾ç½®ä¸ºæ–¹æ³•åï¼š\r\n\r\n1. å‚æ•° **to**ï¼šå¯ä»¥è®¿é—®è·³è½¬å‰çš„è·¯ç”±ä¿¡æ¯ï¼Œå¸®åŠ©äº†è§£ç”¨æˆ·è¯•å›¾è®¿é—®çš„è·¯å¾„ã€‚\r\n2. æ–¹æ³• **router.getRoutes**ï¼šå¯ä»¥è·å–æ‰€æœ‰å·²æ³¨å†Œçš„è·¯ç”±è¡¨ï¼Œä¾¿äºè¿›è¡Œæƒé™å’Œè·¯å¾„éªŒè¯ã€‚\r\n\r\nåœ¨æ­¤åŸºç¡€ä¸Šï¼Œéœ€è¦å®ç°ä»¥ä¸‹ä¸¤é‡åˆ¤æ–­ï¼š\r\n\r\n1. è·¯å¾„å­˜åœ¨æ€§åˆ¤æ–­ï¼šåˆ©ç”¨ **to.path** æ£€æŸ¥ç›®æ ‡è·¯å¾„æ˜¯å¦åœ¨è·¯ç”±è¡¨ä¸­ã€‚\r\n    - è‹¥è·¯å¾„å­˜åœ¨ï¼šè¯´æ˜ç›®æ ‡è·¯å¾„å·²æ³¨å†Œã€‚ï¼ˆå¯å¿½ç•¥ã€‚~~è¿›ä¸€æ­¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ã€‚æ­¤æ—¶ï¼Œå¦‚æœç”¨æˆ·è·³è½¬åˆ°äº† **404**\r\n      é¡µé¢ï¼Œé€šå¸¸æ„å‘³ç€å½“å‰ç”¨æˆ·æ²¡æœ‰è®¿é—®è¯¥è·¯å¾„çš„æƒé™ã€‚~~ï¼‰\r\n    - è‹¥è·¯å¾„ä¸å­˜åœ¨ï¼šè¯´æ˜è·¯ç”±æ²¡æœ‰è¿›è¡Œæ³¨å†Œã€‚\r\n2. å¢åŠ æ ‡è®°ï¼šå¯ä»¥é€šè¿‡ä¿®æ”¹ **to.query** æˆ–å…¶ä»–æ–¹å¼ï¼Œæ ‡è®°è·³è½¬åˆ° **404** çš„åŸå› ï¼Œä¾¿äºå‰ç«¯å±•ç¤ºä¸åŒçš„æç¤ºå†…å®¹ã€‚\r\n\r\né€šè¿‡è¿™ç§åˆ¤æ–­ï¼Œèƒ½å¤Ÿç²¾å‡†åœ°ç¡®è®¤è·³è½¬è‡³ **404** çš„åŸå› ï¼Œè¿›ä¸€æ­¥æ”¯æŒå‰ç«¯å±•ç¤ºå‡ºæ›´å…·ä½“çš„æƒé™æç¤ºä¿¡æ¯ã€‚\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/15/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":14,"title":"ã€ç§’çº§ã€‘è·å–è§†é¢‘æ—¶åˆ»å›¾","created_at":"2024-10-28T08:58:43Z","updated_at":"2024-11-04T01:30:31Z","content":"> åœ¨è·å–è§†é¢‘ä»»æ„æ—¶åˆ»çš„æˆªå›¾æ—¶ï¼Œé€šå¸¸å¤§å¤šæ•°çš„åšæ³•éƒ½æ˜¯\r\n> - é€šè¿‡è§†é¢‘æ’­æ”¾ï¼Œcanvasç»˜åˆ¶\r\n> - å€ŸåŠ©ffmpeg\r\n> \r\n> é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼šURI Queries\r\n\r\n### ä½¿ç”¨æ–¹å¼\r\n\r\nåªéœ€è¦åœ¨urlåé¢å¸¦ä¸Š#t=xxï¼ˆç§’ï¼‰å³å¯ï¼Œå¦‚æœæ˜¯æœ¬åœ°æ–‡ä»¶çš„è¯ï¼Œä¸Šä¼ ä¹‹åéœ€è¦æ‹¿åˆ°blobUrl\r\n\r\n```html\r\n<!-- ç½‘ç»œåœ°å€ -->\r\n<div>\r\n  <video src=\"https://www.w3school.com.cn/i/video/shanghai.mp4#t=1.2\"></video>\r\n  <video src=\"https://www.w3school.com.cn/i/video/shanghai.mp4#t=2.2\"></video>\r\n  <video src=\"https://www.w3school.com.cn/i/video/shanghai.mp4#t=3.5\"></video>\r\n</div>\r\n\r\n<!-- æœ¬åœ°åœ°å€ -->\r\n<div>\r\n  <video src=\"blob:file:///123a3041-4ab9-4db8-adb7-56c46f3b156e#t=1.2\"></video>\r\n  <video src=\"blob:file:///123a3041-4ab9-4db8-adb7-56c46f3b156e#t=2.2\"></video>\r\n  <video src=\"blob:file:///123a3041-4ab9-4db8-adb7-56c46f3b156e#t=3.5\"></video>\r\n</div>\r\n\r\n<!-- è·å–blob url -->\r\n<script>\r\n  fetch('https://www.w3school.com.cn/i/video/shanghai.mp4').then(res => res.blob()).then(blob => {\r\n    const blobUrl = URL.createObjectURL(blob);\r\n    console.log(blobUrl);\r\n  })\r\n</script>\r\n```\r\n\r\nåˆ°æ­¤å°±å¯ä»¥æ¸²æŸ“å‡ºæŒ‡å®šæ—¶åˆ»çš„å›¾ç‰‡ã€‚å°±è¿™ï¼Ÿæ˜¯çš„ï¼Œæ²¡é”™ï¼Œå°±è¿™ã€‚\r\n\r\n### ä¼˜ç‚¹\r\n\r\n- å¿«\r\n- ç®€å•\r\n\r\n### ç¼ºç‚¹\r\n\r\n- æ¯ä¸€å¼ å›¾å®é™…æ˜¯ä¸€ä¸ªvideoï¼Œä¼šå¯¼è‡´èµ„æºé‡å¤è¯·æ±‚ï¼Œè§†é¢‘æ–‡ä»¶è¿‡å¤§ï¼Œå›¾ç‰‡è¿‡å¤šï¼Œç½‘ç»œå‹åŠ›è¾ƒå¤§ã€‚\r\n- è¯·æ±‚ç½‘ç»œåœ°å€è¿›è€Œè½¬æ¢æˆæœ¬åœ°åœ°å€ï¼Œè™½ç„¶å¯ä»¥è§£å†³å¹¶å‘å¯¼è‡´çš„ç½‘ç»œå‹åŠ›ï¼Œä½†æ˜¯å¦‚æœæ–‡ä»¶è¿‡å¤§ï¼Œé¦–æ¬¡åŠ è½½ä¾æ—§éœ€è¦æ¶ˆè€—æ¯”è¾ƒé•¿çš„æ—¶é—´ã€‚\r\n\r\n### æ€»ç»“\r\n\r\nå…·ä½“ä½¿ç”¨ä»€ä¹ˆæ–¹å¼ï¼Œè¿˜éœ€æ ¹æ®ä¸šåŠ¡éœ€æ±‚å†³å®šã€‚\r\n\r\n> å‚è€ƒæ–‡æ¡£ï¼šhttps://www.w3.org/TR/media-frags/#media-fragment-syntax\r\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]},{"id":11,"title":"ã€Pluginã€‘Vite Javascript obfuscator","created_at":"2024-10-25T03:29:18Z","updated_at":"2025-04-17T01:22:23Z","content":"# é€‚ç”¨äºViteç¯å¢ƒçš„JavaScriptæ··æ·†æ’ä»¶\n\n>ä»“åº“åœ°å€ï¼š[vite-plugin-bundle-obfuscator](https://github.com/z0ffy/vite-plugin-bundle-obfuscator)\n\n## â­ï¸ ç‰¹æ€§\n\n- [x] âš¡ æ”¯æŒ Vite é¡¹ç›®ä¸­çš„ JavaScript æ··æ·†ã€‚\n- [x] ğŸš€ å¤šçº¿ç¨‹æ”¯æŒï¼Œä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚\n- [x] âš™ï¸ å¯å®šåˆ¶çš„æ··æ·†å™¨é€‰é¡¹ï¼Œä»¥æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚\n- [x] ğŸ›¡ï¸ è‡ªåŠ¨æ’é™¤ node_modulesã€‚\n- [x] ğŸ“¦ æ”¯æŒ node_modules æ‹†åˆ†å—ã€‚\n\n## âš ï¸ æ³¨æ„\n\n- å¦‚æœæ‰“åŒ…è¿‡ç¨‹ä¸­å‡ºç°å†…å­˜æº¢å‡ºã€‚ä¿®æ”¹æ‰“åŒ…å‘½ä»¤ä¸ºï¼šcross-env NODE_OPTIONS=--max-old-space-size=8192 VITE_CJS_IGNORE_WARNING=true vite buildï¼Œå…¶ä¸­ max-old-space-size æ ¹æ®æœºå™¨é…ç½®è‡ªè¡Œè®¾ç½®ã€‚\n- åœ¨è®¾ç½® node_modules åˆ†åŒ…æ—¶ï¼Œè¯·æŠŠå‡†ç¡®çš„åŒ…åå‰ç½®ã€‚ä¾‹å¦‚ï¼š[\"vue-router\", \"vue\"]ï¼Œ\"vue\"å¯ä»¥åŒæ—¶åŒ¹é…åˆ° vue ä»¥åŠ vue-routerã€‚\n\n## ğŸŒ åœ¨çº¿ç¤ºä¾‹\n\nâœ¦ [Vite - Vanilla](https://stackblitz.com/edit/vitejs-vite-zsytij?file=vite.config.js)\nâœ¦ [Vite - Vue](https://stackblitz.com/edit/vitejs-vite-ywho91?file=vite.config.js)\nâœ¦ [Vite - React](https://stackblitz.com/edit/vitejs-vite-wyeur4?file=vite.config.js)\nâœ¦ [Vite - PReact](https://stackblitz.com/edit/vitejs-vite-oujmks?file=vite.config.js)\nâœ¦ [Vite - lit](https://stackblitz.com/edit/vitejs-vite-ru4gws?file=vite.config.js)\nâœ¦ [Vite - Svelte](https://stackblitz.com/edit/vitejs-vite-fthdtu?file=vite.config.js)\nâœ¦ [Vite - Solid](https://stackblitz.com/edit/vitejs-vite-dcx3eh?file=vite.config.js)\nâœ¦ [Vite - Qwik](https://stackblitz.com/edit/vitejs-vite-i2bjvq?file=vite.config.js)\nâœ¦ ...\n\n\n## ğŸ“¦ å®‰è£…\n\n```bash\n# ä½¿ç”¨npm\nnpm install vite-plugin-bundle-obfuscator -D\n\n# ä½¿ç”¨pnpm\npnpm add vite-plugin-bundle-obfuscator -D\n\n# ä½¿ç”¨yarn\nyarn add vite-plugin-bundle-obfuscator -D\n```\n\n## ğŸ‘¨â€ğŸ’» ä½¿ç”¨\n\n1. ä½¿ç”¨æ‚¨é¦–é€‰çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å®‰è£…æ’ä»¶ã€‚\n2. åœ¨vite.config.jsä¸­æ³¨å†Œæ’ä»¶ã€‚\n3. è‡ªå®šä¹‰æ··æ·†å™¨é…ç½®æˆ–ä½¿ç”¨é»˜è®¤é€‰é¡¹ã€‚\n\nç¤ºä¾‹:\n\n```javascript\nimport vitePluginBundleObfuscator from 'vite-plugin-bundle-obfuscator';\n\nconst defaultObfuscatorConfig = {\n  excludes: [],\n  enable: true,\n  log: true,\n  autoExcludeNodeModules: false,\n  threadPool: false,\n  options: {\n    compact: true,\n    controlFlowFlattening: true,\n    controlFlowFlatteningThreshold: 1,\n    deadCodeInjection: false,\n    debugProtection: false,\n    debugProtectionInterval: 0,\n    disableConsoleOutput: false,\n    identifierNamesGenerator: 'hexadecimal',\n    log: false,\n    numbersToExpressions: false,\n    renameGlobals: false,\n    selfDefending: true,\n    simplify: true,\n    splitStrings: false,\n    ignoreImports: true,\n    stringArray: true,\n    stringArrayCallsTransform: true,\n    stringArrayCallsTransformThreshold: 0.5,\n    stringArrayEncoding: [],\n    stringArrayIndexShift: true,\n    stringArrayRotate: true,\n    stringArrayShuffle: true,\n    stringArrayWrappersCount: 1,\n    stringArrayWrappersChainedCalls: true,\n    stringArrayWrappersParametersMaxCount: 2,\n    stringArrayWrappersType: 'variable',\n    stringArrayThreshold: 0.75,\n    unicodeEscapeSequence: false,\n  }\n};\n\nexport default {\n  plugins: [\n    // vitePluginBundleObfuscator()\n    vitePluginBundleObfuscator(defaultObfuscatorConfig)\n  ]\n};\n```\n","author":"z0ffy","reactions":{"url":"https://api.github.com/repos/z0ffy/z0ffy.github.io/issues/11/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","å‰ç«¯"]}]},"__N_SSG":true}